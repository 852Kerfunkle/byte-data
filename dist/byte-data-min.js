/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var m="function"==typeof Object.defineProperties?Object.defineProperty:function(l,b,k){l!=Array.prototype&&l!=Object.prototype&&(l[b]=k.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,p=["Object","assign"],q=0;q<p.length-1;q++){var r=p[q];r in n||(n[r]={});n=n[r]}
var t=p[p.length-1],u=n[t],v=u?u:function(l,b){for(var k=1;k<arguments.length;k++){var h=arguments[k];if(h)for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(l[g]=h[g])}return l};v!=u&&null!=v&&m(n,t,{configurable:!0,writable:!0,value:v});
(function(l){function b(h){if(k[h])return k[h].h;var g=k[h]={V:h,M:!1,h:{}};l[h].call(g.h,g,g.h,b);g.M=!0;return g.h}var k={};b.A=l;b.l=k;b.b=function(h,g){b.f(h)||Object.defineProperty(h,"a",{configurable:!1,enumerable:!0,get:g})};b.m=function(h){var g=h&&h.U?function(){return h["default"]}:function(){return h};b.b(g,g);return g};b.f=function(b){return Object.prototype.hasOwnProperty.call(b,"a")};b.w="";return b(b.B=1)})([function(l){function b(a){this.a=a.bits;this.char=a["char"];this.f=a["float"];
this.u=a.be;this.G=this.f?!0:a.signed;this.g=a.base?a.base:10;this.j=this.i=null;this.offset=0;this.min=-Infinity;this.max=Infinity;this.c=this.a;this.s=255;this.w()}var k=new Float32Array(1),h=new Int32Array(k.buffer),g=new Float64Array(1),f=new Uint32Array(g.buffer);b.prototype.sign=function(a){a>this.max&&(a-=2*this.max+2);return a};b.prototype.m=function(a){a>this.max?a=this.max:a<this.min&&(a=this.min);return a};b.prototype.b=function(a,d,c){var e=0;for(c=(void 0===c?this:c).offset-1;0<c;)e|=
a[c+d]<<8*c,c--;e=(a[d]|e)>>>0;return this.m(this.sign(e))};b.prototype.O=function(a,d,c){c=void 0===c?this:c;for(var e="",b=0;b<c.offset;){var f=a[d+b].toString(2);e=Array(9-f.length).join("0")+f+e;b++}return this.m(this.sign(parseInt(e,2)))};b.prototype.A=function(a,d){a=this.b(a,d,{bits:16,offset:2});d=(a&31744)>>10;var c=a&1023;return(d?Math.pow(2,d-15)*(1+c/1024):c/1024*.00006103515625)*(a>>15?-1:1)};b.prototype.B=function(a,d){h[0]=this.b(a,d,{bits:32,offset:4});return k[0]};b.prototype.N=function(a,
d){f[0]=this.b(a,d,{bits:32,offset:4});f[1]=this.b(a,d+4,{bits:32,offset:4});return g[0]};b.prototype.P=function(a,d){for(var c="",e=0;e<this.offset;)c+=String.fromCharCode(a[d+e]),e++;return c};b.prototype.l=function(a,d,c,e){e=void 0===e?this:e;d=this.m(d);var b=255,f=e.offset;c=this.L(a,d,c,e);for(var g=2;g<=f;g++)g==f&&(b=e.s),a[c++]=Math.floor(d/Math.pow(2,8*(g-1)))&b;return c};b.prototype.J=function(a,d,c){g[0]=d;d={a:32,offset:4,s:255};c=this.l(a,f[0],c,d);return this.l(a,f[1],c,d)};b.prototype.I=
function(a,d,c,e){k[0]=d;return c=this.l(a,h[0],c,e)};b.prototype.H=function(a,d,c){k[0]=d;var e=h[0];d=e>>16&32768;var b=e>>12&2047;e=e>>23&255;103<=e&&(d=(d|e-112<<10|b>>1)+(b&1));a[c++]=d&255;a[c++]=d>>>8&255;return c};b.prototype.K=function(a,d,c){a[c++]=d.charCodeAt(0);return c};b.prototype.w=function(){this.D();this.R();this.offset=8>this.a?1:Math.ceil(this.c/8);this.T();this.F();this.f||this.S()};b.prototype.T=function(){this.f?16==this.a?this.i=this.A:32==this.a?this.i=this.B:64==this.a&&
(this.i=this.N):this.char?this.i=this.P:this.i=33>this.a?this.b:this.O};b.prototype.F=function(){this.f?16==this.a?this.j=this.H:32==this.a?this.j=this.I:64==this.a&&(this.j=this.J):this.char?this.j=this.K:this.j=this.l};b.prototype.S=function(){var a=Math.pow(2,this.a);this.G?(this.max=a/2-1,this.min=-a/2):(this.max=a-1,this.min=0)};b.prototype.D=function(){this.c=8<this.a?16>=this.a?16:24>=this.a?24:32>=this.a?32:40>=this.a?40:48>=this.a?48:56>=this.a?56:64:this.a};b.prototype.R=function(){var a=
8-(this.c-this.a);this.s=Math.pow(2,0<a?a:8)-1};b.prototype.L=function(a,d,c,e){e=void 0===e?this:e;1==e.offset&&8>e.a?a[c++]=0>d?d+Math.pow(2,e.a):d:a[c++]=d&255;return c};l.h=b},function(l,b,k){function h(a,c,e){var d=[];c.char?d=c.char?a.slice(0,c.c/8):a:Array.isArray(a)||(d=[a]);return f.C(d,f.o(c,void 0===e?10:e))}function g(a,c,e){a=f.v(a.slice(0,8>c.a?c.a:c.c/8),f.o(c,void 0===e?10:e));return a=c.char?a.slice(0,c.a/8):a[0]}var f=k(2),a=k(0);window.byteData=window.byteData?window.byteData:{};
window.byteData.pack=h;window.byteData.unpack=g;window.byteData.packArray=function(a,c,e){return f.C(a,f.o(c,void 0===e?10:e))};window.byteData.unpackArray=function(a,c,e){return f.v(a,f.o(c,void 0===e?10:e))};window.byteData.unpackStruct=function(a,c,e){e=void 0===e?10:e;for(var d=0,b=0;b<c.length;b++)d+=c[b].c/8;if(a.length<d)return[];d=[];for(var f=b=0;b<c.length;){var h=8>c[b].a?1:c[b].c/8;d=d.concat(g(a.slice(f,f+h),c[b],e));f+=h;b++}return d};window.byteData.packStruct=function(a,c,e){e=void 0===
e?10:e;if(a.length<c.length)return[];for(var d=[],b=0;b<c.length;b++)d=d.concat(h(a[b],c[b],e));return d};window.byteData.findString=function(d,c){for(var b,f=0;f<d.length;f++)if(b=g(d.slice(f,f+c.length+1),new a({bits:8*c.length,"char":!0})),b==c)return f;return-1};window.byteData.Type=a;window.byteData.chr=new a({bits:8,"char":!0});window.byteData.fourCC=new a({bits:32,"char":!0});window.byteData.bool=new a({bits:1});window.byteData.int2=new a({bits:2,signed:!0});window.byteData.uInt2=new a({bits:2});
window.byteData.int4=new a({bits:4,signed:!0});window.byteData.uInt4=new a({bits:4});window.byteData.int8=new a({bits:8,signed:!0});window.byteData.uInt8=new a({bits:8});window.byteData.int16=new a({bits:16,signed:!0});window.byteData.uInt16=new a({bits:16});window.byteData.float16=new a({bits:16,"float":!0});window.byteData.int24=new a({bits:24,signed:!0});window.byteData.uInt24=new a({bits:24});window.byteData.int32=new a({bits:32,signed:!0});window.byteData.uInt32=new a({bits:32});window.byteData.float32=
new a({bits:32,"float":!0});window.byteData.int40=new a({bits:40,signed:!0});window.byteData.uInt40=new a({bits:40});window.byteData.int48=new a({bits:48,signed:!0});window.byteData.uInt48=new a({bits:48});window.byteData.float64=new a({bits:64,"float":!0});window.byteData.int16BE=new a({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new a({bits:16,be:!0});window.byteData.float16BE=new a({bits:16,"float":!0,be:!0});window.byteData.int24BE=new a({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=
new a({bits:24,be:!0});window.byteData.int32BE=new a({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new a({bits:32,be:!0});window.byteData.float32BE=new a({bits:32,"float":!0,be:!0});window.byteData.int40BE=new a({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new a({bits:40,be:!0});window.byteData.int48BE=new a({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new a({bits:48,be:!0});window.byteData.float64BE=new a({bits:64,"float":!0,be:!0})},function(l,b,k){var h=k(0),g=k(3);b.o=function(b,
a){b=Object.assign(new h({}),b);b.g=a;return b};b.C=function(b,a){for(var d=0,c=0,e=b.length,f=[];d<e;)c=a.j(f,b[d++],c);a.u&&g(f,a.offset);if(10!=a.g){b=a.g;d=0;for(c=f.length;d<c;)f[d]=f[d].toString(b),d++;b=0;d=f.length;for(a=(2==a.g?8:2)+1;b<d;)f[b]=Array(a-f[b].length).join("0")+f[b],b++}return f};b.v=function(b,a){a.u&&g(b,a.offset);if(10!=a.g)for(var d=a.g,c=0,e=b.length;c<e;)b[c]=parseInt(b[c],d),c++;d=[];c=0;for(e=b.length-(a.offset-1);c<e;)d.push(a.i(b,c)),c+=a.offset;a.char&&(d=d.join(""));
return d}},function(l){l.h=function(b,k){for(var h=b.length,g=0;g<h;){for(var f=b,a=g,d=0,c=k-1,e=parseInt(k/2,10);d<e;){var l=f[a+d];f[a+d]=f[a+c];f[a+c]=l;d++;c--}g+=k}}}]);

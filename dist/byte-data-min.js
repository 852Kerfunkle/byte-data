/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var n="function"==typeof Object.defineProperties?Object.defineProperty:function(m,k,l){m!=Array.prototype&&m!=Object.prototype&&(m[k]=l.value)},q="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,r=["Object","assign"],t=0;t<r.length-1;t++){var u=r[t];u in q||(q[u]={});q=q[u]}
var v=r[r.length-1],w=q[v],x=w?w:function(m,k){for(var l=1;l<arguments.length;l++){var e=arguments[l];if(e)for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(m[h]=e[h])}return m};x!=w&&null!=x&&n(q,v,{configurable:!0,writable:!0,value:x});
(function(m){function k(e){if(l[e])return l[e].g;var h=l[e]={H:e,F:!1,g:{}};m[e].call(h.g,h,h.g,k);h.F=!0;return h.g}var l={};k.w=m;k.o=l;k.c=function(e,h){k.h(e)||Object.defineProperty(e,"a",{configurable:!1,enumerable:!0,get:h})};k.s=function(e){var h=e&&e.G?function(){return e["default"]}:function(){return e};k.c(h,h);return h};k.h=function(e){return Object.prototype.hasOwnProperty.call(e,"a")};k.v="";return k(k.A=1)})([function(m,k,l){function e(b){this.a=b.bits;this.char=b["char"];this.c=b["float"];
this.m=b.be;this.h=this.c?!0:b.signed;this.D=this.B=null;this.offset=0;this.f=b.base?b.base:10;this.min=-Infinity;this.max=Infinity;this.o();this.b=this.a}var h=l(3);e.prototype.sign=function(b){this.h&&b>this.max&&(b-=2*this.max+2);return b};e.prototype.overflow=function(b){b>this.max?b=this.max:b<this.min&&(b=this.min);return b};e.prototype.o=function(){this.w();this.offset=8>this.a?1:this.b/8;this.v();this.A();this.c||this.s()};e.prototype.v=function(){this.B=this.char?h.j.readChar:h.j["read"+
(8>this.a?8:this.b)+"Bit"+(this.c?"Float":"")]};e.prototype.A=function(){this.D=this.char?h.l.writeString:h.l["write"+this.b+"Bit"+(this.c?"Float":"")]};e.prototype.s=function(){var b=Math.pow(2,this.a);this.h?(this.max=b/2-1,this.min=-b/2):(this.max=b-1,this.min=0)};e.prototype.w=function(){this.b=8<this.a?16>=this.a?16:24>=this.a?24:32>=this.a?32:40>=this.a?40:48>=this.a?48:53>=this.a?53:64:this.a};m.g=e},function(m,k,l){function e(a,f,d){var c=[];f.char?c=f.char?a.slice(0,f.b/8):a:Array.isArray(a)||
(c=[a]);return b.C(c,b.i(f,void 0===d?10:d))}function h(a,f,d){a=b.u(a.slice(0,8>f.a?f.a:f.b/8),b.i(f,void 0===d?10:d));return a=f.char?a.slice(0,f.a/8):a[0]}var b=l(2),a=l(0);window.byteData=window.byteData?window.byteData:{};window.byteData.pack=e;window.byteData.unpack=h;window.byteData.packArray=function(a,f,d){return b.C(a,b.i(f,void 0===d?10:d))};window.byteData.unpackArray=function(a,f,d){return b.u(a,b.i(f,void 0===d?10:d))};window.byteData.unpackStruct=function(a,b,d){d=void 0===d?10:d;for(var c=
0,g=0;g<b.length;g++)c+=b[g].b/8;if(a.length<c)return[];c=[];for(var f=g=0;g<b.length;){var e=8>b[g].a?1:b[g].b/8;c=c.concat(h(a.slice(f,f+e),b[g],d));f+=e;g++}return c};window.byteData.packStruct=function(a,b,d){d=void 0===d?10:d;if(a.length<b.length)return[];for(var c=[],g=0;g<b.length;g++)c=c.concat(e(a[g],b[g],d));return c};window.byteData.findString=function(b,f){for(var d,c=0;c<b.length;c++)if(d=h(b.slice(c,c+f.length+1),new a({bits:8*f.length,"char":!0})),d==f)return c;return-1};window.byteData.Type=
a;window.byteData.chr=new a({bits:8,"char":!0});window.byteData.fourCC=new a({bits:32,"char":!0});window.byteData.bool=new a({bits:1});window.byteData.int2=new a({bits:2,signed:!0});window.byteData.uInt2=new a({bits:2});window.byteData.int4=new a({bits:4,signed:!0});window.byteData.uInt4=new a({bits:4});window.byteData.int8=new a({bits:8,signed:!0});window.byteData.uInt8=new a({bits:8});window.byteData.int16=new a({bits:16,signed:!0});window.byteData.uInt16=new a({bits:16});window.byteData.float16=
new a({bits:16,"float":!0});window.byteData.int24=new a({bits:24,signed:!0});window.byteData.uInt24=new a({bits:24});window.byteData.int32=new a({bits:32,signed:!0});window.byteData.uInt32=new a({bits:32});window.byteData.float32=new a({bits:32,"float":!0});window.byteData.int40=new a({bits:40,signed:!0});window.byteData.uInt40=new a({bits:40});window.byteData.int48=new a({bits:48,signed:!0});window.byteData.uInt48=new a({bits:48});window.byteData.float64=new a({bits:64,"float":!0});window.byteData.int16BE=
new a({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new a({bits:16,be:!0});window.byteData.float16BE=new a({bits:16,"float":!0,be:!0});window.byteData.int24BE=new a({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=new a({bits:24,be:!0});window.byteData.int32BE=new a({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new a({bits:32,be:!0});window.byteData.float32BE=new a({bits:32,"float":!0,be:!0});window.byteData.int40BE=new a({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new a({bits:40,
be:!0});window.byteData.int48BE=new a({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new a({bits:48,be:!0});window.byteData.float64BE=new a({bits:64,"float":!0,be:!0})},function(m,k,l){var e=l(0),h=l(4);k.i=function(b,a){b=Object.assign(new e({}),b);b.f=a;return b};k.C=function(b,a){for(var e=0,f=0,d=b.length,c=[];e<d;)f=a.D(c,a.overflow(b[e]),f),e++;a.m&&h(c,a.offset);if(10!=a.f){b=a.f;e=0;for(f=c.length;e<f;)c[e]=c[e].toString(b),e++;b=0;e=c.length;for(a=(2==a.f?8:2)+1;b<e;)c[b]=Array(a-c[b].length).join("0")+
c[b],b++}return c};k.u=function(b,a){a.m&&h(b,a.offset);if(10!=a.f)for(var e=a.f,f=0,d=b.length;f<d;)b[f]=parseInt(b[f],e),f++;e=[];f=0;for(d=b.length-(a.offset-1);f<d;)e.push(a.overflow(a.sign(a.B(b,f,a)))),f+=a.offset;a.char&&(e=e.join(""));return e}},function(m,k){function l(d,c,g){--g;for(var a="";0<=g;){var b=d[g+c].toString(2);a+=Array(9-b.length).join("0")+b;g--}return parseInt(a,2)}var e=new Float32Array(1),h=new Int32Array(e.buffer),b=new Float64Array(1),a=new Uint32Array(b.buffer),p={read8Bit:function(d,
c){return d[c]},read16Bit:function(d,c){return d[1+c]<<8|d[c]},read16BitFloat:function(d,c){d=[d[c],d[c+1]];c="";for(var g=0,a=d.length;g<a;){var b=d[g].toString(2);c=Array(9-b.length).join("0")+b+c;g++}d=parseInt(c,2);c=(d&31744)>>10;g=d&1023;return(c?Math.pow(2,c-15)*(1+g/1024):g/1024*.00006103515625)*(d>>15?-1:1)},read24Bit:function(d,c){return d[2+c]<<16|p.read16Bit(d,c)},read32Bit:function(d,c){return(d[3+c]<<24|p.read24Bit(d,c))>>>0},read32BitFloat:function(d,c){h[0]=p.read32Bit(d,c);return e[0]},
read40Bit:function(d,c){return l(d,c,5)},read48Bit:function(d,c){return l(d,c,6)},read53Bit:function(d,c){return l(d,c,7)},read64BitFloat:function(d,c){a[0]=p.read32Bit(d,c);a[1]=p.read32Bit(d,c+4);return b[0]},readChar:function(d,c,a){var g="",b=0;for(a=a.a/8;b<a;)g+=String.fromCharCode(d[c+b]),b++;return g}},f={write64BitFloat:function(d,c,g){b[0]=c;g=f.write32Bit(d,a[0],g);return f.write32Bit(d,a[1],g)},write53Bit:function(d,c,a){a=f.write48Bit(d,c,a);d[a++]=Math.floor(c/Math.pow(2,48))&255;return a},
write48Bit:function(d,c,a){a=f.write40Bit(d,c,a);d[a++]=Math.floor(c/Math.pow(2,40))&255;return a},write40Bit:function(d,c,a){a=f.write32Bit(d,c,a);d[a++]=Math.floor(c/Math.pow(2,32))&255;return a},write32BitFloat:function(a,c,b){e[0]=c;return b=f.write32Bit(a,h[0],b)},write32Bit:function(a,c,b){b=f.write24Bit(a,c,b);a[b++]=c>>>24&255;return b},write24Bit:function(a,c,b){b=f.write16Bit(a,c,b);a[b++]=c>>>16&255;return b},write16Bit:function(a,c,b){a[b++]=c&255;a[b++]=c>>>8&255;return b},write16BitFloat:function(a,
c,b){e[0]=c;var d=h[0];c=d>>16&32768;var g=d>>12&2047;d=d>>23&255;103<=d&&(c=(c|d-112<<10|g>>1)+(g&1));a[b]=c&255;a[b+1]=c>>>8&255;return b+2},write8Bit:function(a,c,b){a[b++]=c&255;return b},write4Bit:function(a,c,b){a[b++]=c&15;return b},write2Bit:function(a,c,b){a[b++]=0>c?c+4:c;return b},write3Bit:function(a,c,b){a[b++]=0>c?c+Math.pow(2,3):c;return b},write5Bit:function(a,c,b){a[b++]=0>c?c+Math.pow(2,5):c;return b},write6Bit:function(a,c,b){a[b++]=0>c?c+Math.pow(2,6):c;return b},write7Bit:function(a,
c,b){a[b++]=0>c?c+Math.pow(2,7):c;return b},write1Bit:function(a,b,e){a[e++]=b?1:0;return e},writeString:function(a,b,e){a[e++]=b.charCodeAt(0);return e}};k.l=f;k.j=p},function(m){m.g=function(k,l){for(var e=k.length,h=0;h<e;){for(var b=k,a=h,m=0,f=l-1,d=parseInt(l/2,10);m<d;){var c=b[a+m];b[a+m]=b[a+f];b[a+f]=c;m++;f--}h+=l}}}]);

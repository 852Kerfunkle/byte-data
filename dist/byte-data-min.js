/*
 byte-data
 Read and write data to and from byte buffers.
 Copyright (c) 2017-2018 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
var l="function"==typeof Object.create?Object.create:function(h){function f(){}f.prototype=h;return new f},m;if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var p={H:!0},q={};try{q.__proto__=p;n=q.H;break a}catch(h){}n=!1}m=n?function(h,f){h.__proto__=f;if(h.__proto__!==f)throw new TypeError(h+" is not extensible");return h}:null}var r=m;
function t(h,f){h.prototype=l(f.prototype);h.prototype.constructor=h;if(r)r(h,f);else for(var a in f)if("prototype"!=a)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(f,a);e&&Object.defineProperty(h,a,e)}else h[a]=f[a];h.Z=f.prototype}
for(var u="function"==typeof Object.defineProperties?Object.defineProperty:function(h,f,a){h!=Array.prototype&&h!=Object.prototype&&(h[f]=a.value)},v="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,w=["Object","assign"],x=0;x<w.length-1;x++){var y=w[x];y in v||(v[y]={});v=v[y]}
var z=w[w.length-1],A=v[z],B=A?A:function(h,f){for(var a=1;a<arguments.length;a++){var e=arguments[a];if(e)for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(h[d]=e[d])}return h};B!=A&&null!=B&&u(v,z,{configurable:!0,writable:!0,value:B});
(function(h){function f(e){if(a[e])return a[e].b;var d=a[e]={Y:e,J:!1,b:{}};h[e].call(d.b,d,d.b,f);d.J=!0;return d.b}var a={};f.D=h;f.w=a;f.h=function(a,d){f.o(a)||Object.defineProperty(a,"a",{configurable:!1,enumerable:!0,get:d})};f.B=function(a){var d=a&&a.X?function(){return a["default"]}:function(){return a};f.h(d,d);return d};f.o=function(a){return Object.prototype.hasOwnProperty.call(a,"a")};f.C="";return f(f.F=1)})([function(h,f,a){function e(b){var a=g.call(this,b)||this;a.char=b["char"];
a.s=b["float"];a.I();return a}var d=new Float32Array(1),c=new Int32Array(d.buffer),b=new Float64Array(1),k=new Uint32Array(b.buffer),g=a(3);t(e,g);e.prototype.L=function(a,b){a=this.i(a,b,{bits:16,offset:2});b=(a&31744)>>10;var c=a&1023;return(b?Math.pow(2,b-15)*(1+c/1024):c/1024*.00006103515625)*(a>>15?-1:1)};e.prototype.M=function(a,b){c[0]=this.i(a,b,{bits:32,offset:4});return d[0]};e.prototype.N=function(a,c){k[0]=this.i(a,c,{bits:32,offset:4});k[1]=this.i(a,c+4,{bits:32,offset:4});return b[0]};
e.prototype.P=function(a,b){for(var c="",g=0;g<this.offset;)c+=String.fromCharCode(a[b+g]),g++;return c};e.prototype.V=function(a,c,g){b[0]=c;c={a:32,offset:4,u:255};g=this.m(a,k[0],g,c);return this.m(a,k[1],g,c)};e.prototype.U=function(a,b,g,k){d[0]=b;return g=this.m(a,c[0],g,k)};e.prototype.T=function(a,b,g){d[0]=b;var k=c[0];b=k>>16&32768;var e=k>>12&2047;k=k>>23&255;103<=k&&(b=(b|k-112<<10|e>>1)+(e&1));a[g++]=b&255;a[g++]=b>>>8&255;return g};e.prototype.W=function(a,b,c){a[c++]=b.charCodeAt(0);
return c};e.prototype.I=function(){this.R();this.S();this.s&&(this.min=-Infinity,this.max=Infinity)};e.prototype.R=function(){this.s?16==this.a?this.g=this.L:32==this.a?this.g=this.M:64==this.a&&(this.g=this.N):this.char?this.g=this.P:32<this.a&&(this.g=this.O)};e.prototype.S=function(){this.s?16==this.a?this.j=this.T:32==this.a?this.j=this.U:64==this.a&&(this.j=this.V):this.char&&(this.j=this.W)};h.b=e},function(h,f,a){function e(a,b,d){var g=[];b.char?g=b.char?a.slice(0,b.c/8):a:Array.isArray(a)||
(g=[a]);return c.G(g,c.l(b,void 0===d?10:d))}function d(a,b,d){a=c.A(a.slice(0,8>b.a?b.a:b.c/8),c.l(b,void 0===d?10:d));return a=b.char?a.slice(0,b.a/8):a[0]}var c=a(2),b=a(0);window.byteData=window.byteData?window.byteData:{};window.byteData.pack=e;window.byteData.unpack=d;window.byteData.packArray=function(a,b,d){return c.G(a,c.l(b,void 0===d?10:d))};window.byteData.unpackArray=function(a,b,d){return c.A(a,c.l(b,void 0===d?10:d))};window.byteData.unpackStruct=function(a,b,c){c=void 0===c?10:c;for(var e=
0,g=0;g<b.length;g++)e+=b[g].c/8;if(a.length<e)return[];e=[];for(var k=g=0;g<b.length;){var f=8>b[g].a?1:b[g].c/8;e=e.concat(d(a.slice(k,k+f),b[g],c));k+=f;g++}return e};window.byteData.packStruct=function(b,a,c){c=void 0===c?10:c;if(b.length<a.length)return[];for(var d=[],g=0;g<a.length;g++)d=d.concat(e(b[g],a[g],c));return d};window.byteData.findString=function(a,c){for(var e,g=0;g<a.length;g++)if(e=d(a.slice(g,g+c.length+1),new b({bits:8*c.length,"char":!0})),e==c)return g;return-1};window.byteData.Type=
b;window.byteData.chr=new b({bits:8,"char":!0});window.byteData.fourCC=new b({bits:32,"char":!0});window.byteData.bool=new b({bits:1});window.byteData.int2=new b({bits:2,signed:!0});window.byteData.uInt2=new b({bits:2});window.byteData.int4=new b({bits:4,signed:!0});window.byteData.uInt4=new b({bits:4});window.byteData.int8=new b({bits:8,signed:!0});window.byteData.uInt8=new b({bits:8});window.byteData.int16=new b({bits:16,signed:!0});window.byteData.uInt16=new b({bits:16});window.byteData.float16=
new b({bits:16,"float":!0});window.byteData.int24=new b({bits:24,signed:!0});window.byteData.uInt24=new b({bits:24});window.byteData.int32=new b({bits:32,signed:!0});window.byteData.uInt32=new b({bits:32});window.byteData.float32=new b({bits:32,"float":!0});window.byteData.int40=new b({bits:40,signed:!0});window.byteData.uInt40=new b({bits:40});window.byteData.int48=new b({bits:48,signed:!0});window.byteData.uInt48=new b({bits:48});window.byteData.float64=new b({bits:64,"float":!0});window.byteData.int16BE=
new b({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new b({bits:16,be:!0});window.byteData.float16BE=new b({bits:16,"float":!0,be:!0});window.byteData.int24BE=new b({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=new b({bits:24,be:!0});window.byteData.int32BE=new b({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new b({bits:32,be:!0});window.byteData.float32BE=new b({bits:32,"float":!0,be:!0});window.byteData.int40BE=new b({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new b({bits:40,
be:!0});window.byteData.int48BE=new b({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new b({bits:48,be:!0});window.byteData.float64BE=new b({bits:64,"float":!0,be:!0})},function(h,f,a){var e=a(0),d=a(4);h.b.l=function(a,b){a=Object.assign(new e({}),a);a.f=b;return a};h.b.G=function(a,b){for(var c=0,g=0,e=a.length,f=[];c<e;)g=b.j(f,a[c++],g);b.v&&d(f,b.offset);if(10!=b.f){a=b.f;c=0;for(g=f.length;c<g;)f[c]=f[c].toString(a),c++;a=0;c=f.length;for(b=(2==b.f?8:2)+1;a<c;)f[a]=Array(b-f[a].length).join("0")+
f[a],a++}return f};h.b.A=function(a,b){b.v&&d(a,b.offset);if(10!=b.f)for(var c=b.f,g=0,e=a.length;g<e;)a[g]=parseInt(a[g],c),g++;c=[];g=0;for(e=a.length-(b.offset-1);g<e;)c.push(b.g(a,g)),g+=b.offset;b.char&&(c=c.join(""));return c}},function(h){function f(a){this.a=a.bits;this.v=a.be;this.D=a.signed;this.f=a.base?a.base:10;this.g=this.i;this.j=this.m;this.offset=0;this.min=-Infinity;this.max=Infinity;this.c=this.a;this.u=255;this.o()}f.prototype.sign=function(a){a>this.max&&(a-=2*this.max+2);return a};
f.prototype.h=function(a){a>this.max?a=this.max:a<this.min&&(a=this.min);return a};f.prototype.i=function(a,e,d){var c=0;for(d=(void 0===d?this:d).offset-1;0<d;)c|=a[d+e]<<8*d,d--;c=(a[e]|c)>>>0;return this.h(this.sign(c))};f.prototype.O=function(a,e,d){d=void 0===d?this:d;for(var c="",b=0;b<d.offset;){var f=a[e+b].toString(2);c=Array(9-f.length).join("0")+f+c;b++}return this.h(this.sign(parseInt(c,2)))};f.prototype.m=function(a,e,d,c){c=void 0===c?this:c;e=this.h(e);var b=255,f=c.offset;d=this.K(a,
e,d,c);for(var g=2;g<=f;g++)g==f&&(b=c.u),a[d++]=Math.floor(e/Math.pow(2,8*(g-1)))&b;return d};f.prototype.o=function(){this.F();this.C();this.w();this.B();this.offset=8>this.a?1:Math.ceil(this.c/8)};f.prototype.B=function(){var a=Math.pow(2,this.a);this.D?(this.max=a/2-1,this.min=-a/2):(this.max=a-1,this.min=0)};f.prototype.F=function(){if(1>this.a||64<this.a)throw Error("Not a supported type.");};f.prototype.C=function(){this.c=8<this.a?16>=this.a?16:24>=this.a?24:32>=this.a?32:40>=this.a?40:48>=
this.a?48:56>=this.a?56:64:this.a};f.prototype.w=function(){var a=8-(this.c-this.a);this.u=Math.pow(2,0<a?a:8)-1};f.prototype.K=function(a,e,d,c){c=void 0===c?this:c;8>c.a?a[d++]=0>e?e+Math.pow(2,c.a):e:a[d++]=e&255;return d};h.b=f},function(h){h.b=function(f,a){for(var e=f.length,d=0;d<e;){for(var c=f,b=d,h=0,g=a-1,C=parseInt(a/2,10);h<C;){var D=c[b+h];c[b+h]=c[b+g];c[b+g]=D;h++;g--}d+=a}}}]);

/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
var l="function"==typeof Object.create?Object.create:function(g){function c(){}c.prototype=g;return new c},m;if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var p={H:!0},q={};try{q.__proto__=p;n=q.H;break a}catch(g){}n=!1}m=n?function(g,c){g.__proto__=c;if(g.__proto__!==c)throw new TypeError(g+" is not extensible");return g}:null}var r=m;
function t(g,c){g.prototype=l(c.prototype);g.prototype.constructor=g;if(r)r(g,c);else for(var a in c)if("prototype"!=a)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(c,a);f&&Object.defineProperty(g,a,f)}else g[a]=c[a];g.Z=c.prototype}
for(var u="function"==typeof Object.defineProperties?Object.defineProperty:function(g,c,a){g!=Array.prototype&&g!=Object.prototype&&(g[c]=a.value)},v="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,w=["Object","assign"],x=0;x<w.length-1;x++){var y=w[x];y in v||(v[y]={});v=v[y]}
var z=w[w.length-1],A=v[z],B=A?A:function(g,c){for(var a=1;a<arguments.length;a++){var f=arguments[a];if(f)for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(g[e]=f[e])}return g};B!=A&&null!=B&&u(v,z,{configurable:!0,writable:!0,value:B});
(function(g){function c(f){if(a[f])return a[f].b;var e=a[f]={Y:f,J:!1,b:{}};g[f].call(e.b,e,e.b,c);e.J=!0;return e.b}var a={};c.D=g;c.w=a;c.h=function(a,e){c.o(a)||Object.defineProperty(a,"a",{configurable:!1,enumerable:!0,get:e})};c.B=function(a){var e=a&&a.X?function(){return a["default"]}:function(){return a};c.h(e,e);return e};c.o=function(a){return Object.prototype.hasOwnProperty.call(a,"a")};c.C="";return c(c.F=1)})([function(g,c,a){function f(b){var a=h.call(this,b)||this;a.char=b["char"];
a.s=b["float"];a.I();return a}var e=new Float32Array(1),d=new Int32Array(e.buffer),b=new Float64Array(1),k=new Uint32Array(b.buffer),h=a(3);t(f,h);f.prototype.L=function(a,b){a=this.i(a,b,{bits:16,offset:2});b=(a&31744)>>10;var d=a&1023;return(b?Math.pow(2,b-15)*(1+d/1024):d/1024*.00006103515625)*(a>>15?-1:1)};f.prototype.M=function(a,b){d[0]=this.i(a,b,{bits:32,offset:4});return e[0]};f.prototype.N=function(a,d){k[0]=this.i(a,d,{bits:32,offset:4});k[1]=this.i(a,d+4,{bits:32,offset:4});return b[0]};
f.prototype.P=function(a,b){for(var d="",h=0;h<this.offset;)d+=String.fromCharCode(a[b+h]),h++;return d};f.prototype.V=function(a,d,h){b[0]=d;d={a:32,offset:4,u:255};h=this.m(a,k[0],h,d);return this.m(a,k[1],h,d)};f.prototype.U=function(a,b,h,k){e[0]=b;return h=this.m(a,d[0],h,k)};f.prototype.T=function(a,b,h){e[0]=b;var k=d[0];b=k>>16&32768;var c=k>>12&2047;k=k>>23&255;103<=k&&(b=(b|k-112<<10|c>>1)+(c&1));a[h++]=b&255;a[h++]=b>>>8&255;return h};f.prototype.W=function(a,b,d){a[d++]=b.charCodeAt(0);
return d};f.prototype.I=function(){this.R();this.S();this.s&&(this.min=-Infinity,this.max=Infinity)};f.prototype.R=function(){this.s?16==this.a?this.g=this.L:32==this.a?this.g=this.M:64==this.a&&(this.g=this.N):this.char?this.g=this.P:32<this.a&&(this.g=this.O)};f.prototype.S=function(){this.s?16==this.a?this.j=this.T:32==this.a?this.j=this.U:64==this.a&&(this.j=this.V):this.char&&(this.j=this.W)};g.b=f},function(g,c,a){function f(a,b,e){var h=[];b.char?h=b.char?a.slice(0,b.c/8):a:Array.isArray(a)||
(h=[a]);return d.G(h,d.l(b,void 0===e?10:e))}function e(a,b,e){a=d.A(a.slice(0,8>b.a?b.a:b.c/8),d.l(b,void 0===e?10:e));return a=b.char?a.slice(0,b.a/8):a[0]}var d=a(2),b=a(0);window.byteData=window.byteData?window.byteData:{};window.byteData.pack=f;window.byteData.unpack=e;window.byteData.packArray=function(a,b,e){return d.G(a,d.l(b,void 0===e?10:e))};window.byteData.unpackArray=function(a,b,e){return d.A(a,d.l(b,void 0===e?10:e))};window.byteData.unpackStruct=function(a,b,d){d=void 0===d?10:d;for(var c=
0,h=0;h<b.length;h++)c+=b[h].c/8;if(a.length<c)return[];c=[];for(var f=h=0;h<b.length;){var k=8>b[h].a?1:b[h].c/8;c=c.concat(e(a.slice(f,f+k),b[h],d));f+=k;h++}return c};window.byteData.packStruct=function(b,a,d){d=void 0===d?10:d;if(b.length<a.length)return[];for(var e=[],c=0;c<a.length;c++)e=e.concat(f(b[c],a[c],d));return e};window.byteData.findString=function(a,d){for(var c,h=0;h<a.length;h++)if(c=e(a.slice(h,h+d.length+1),new b({bits:8*d.length,"char":!0})),c==d)return h;return-1};window.byteData.Type=
b;window.byteData.chr=new b({bits:8,"char":!0});window.byteData.fourCC=new b({bits:32,"char":!0});window.byteData.bool=new b({bits:1});window.byteData.int2=new b({bits:2,signed:!0});window.byteData.uInt2=new b({bits:2});window.byteData.int4=new b({bits:4,signed:!0});window.byteData.uInt4=new b({bits:4});window.byteData.int8=new b({bits:8,signed:!0});window.byteData.uInt8=new b({bits:8});window.byteData.int16=new b({bits:16,signed:!0});window.byteData.uInt16=new b({bits:16});window.byteData.float16=
new b({bits:16,"float":!0});window.byteData.int24=new b({bits:24,signed:!0});window.byteData.uInt24=new b({bits:24});window.byteData.int32=new b({bits:32,signed:!0});window.byteData.uInt32=new b({bits:32});window.byteData.float32=new b({bits:32,"float":!0});window.byteData.int40=new b({bits:40,signed:!0});window.byteData.uInt40=new b({bits:40});window.byteData.int48=new b({bits:48,signed:!0});window.byteData.uInt48=new b({bits:48});window.byteData.float64=new b({bits:64,"float":!0});window.byteData.int16BE=
new b({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new b({bits:16,be:!0});window.byteData.float16BE=new b({bits:16,"float":!0,be:!0});window.byteData.int24BE=new b({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=new b({bits:24,be:!0});window.byteData.int32BE=new b({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new b({bits:32,be:!0});window.byteData.float32BE=new b({bits:32,"float":!0,be:!0});window.byteData.int40BE=new b({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new b({bits:40,
be:!0});window.byteData.int48BE=new b({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new b({bits:48,be:!0});window.byteData.float64BE=new b({bits:64,"float":!0,be:!0})},function(g,c,a){var f=a(0),e=a(4);c.l=function(a,b){a=Object.assign(new f({}),a);a.f=b;return a};c.G=function(a,b){for(var d=0,c=0,f=a.length,g=[];d<f;)c=b.j(g,a[d++],c);b.v&&e(g,b.offset);if(10!=b.f){a=b.f;d=0;for(c=g.length;d<c;)g[d]=g[d].toString(a),d++;a=0;d=g.length;for(b=(2==b.f?8:2)+1;a<d;)g[a]=Array(b-g[a].length).join("0")+
g[a],a++}return g};c.A=function(a,b){b.v&&e(a,b.offset);if(10!=b.f)for(var d=b.f,c=0,f=a.length;c<f;)a[c]=parseInt(a[c],d),c++;d=[];c=0;for(f=a.length-(b.offset-1);c<f;)d.push(b.g(a,c)),c+=b.offset;b.char&&(d=d.join(""));return d}},function(g){function c(a){this.a=a.bits;this.v=a.be;this.D=a.signed;this.f=a.base?a.base:10;this.g=this.i;this.j=this.m;this.offset=0;this.min=-Infinity;this.max=Infinity;this.c=this.a;this.u=255;this.o()}c.prototype.sign=function(a){a>this.max&&(a-=2*this.max+2);return a};
c.prototype.h=function(a){a>this.max?a=this.max:a<this.min&&(a=this.min);return a};c.prototype.i=function(a,c,e){var d=0;for(e=(void 0===e?this:e).offset-1;0<e;)d|=a[e+c]<<8*e,e--;d=(a[c]|d)>>>0;return this.h(this.sign(d))};c.prototype.O=function(a,c,e){e=void 0===e?this:e;for(var d="",b=0;b<e.offset;){var f=a[c+b].toString(2);d=Array(9-f.length).join("0")+f+d;b++}return this.h(this.sign(parseInt(d,2)))};c.prototype.m=function(a,c,e,d){d=void 0===d?this:d;c=this.h(c);var b=255,f=d.offset;e=this.K(a,
c,e,d);for(var h=2;h<=f;h++)h==f&&(b=d.u),a[e++]=Math.floor(c/Math.pow(2,8*(h-1)))&b;return e};c.prototype.o=function(){this.F();this.C();this.w();this.B();this.offset=8>this.a?1:Math.ceil(this.c/8)};c.prototype.B=function(){var a=Math.pow(2,this.a);this.D?(this.max=a/2-1,this.min=-a/2):(this.max=a-1,this.min=0)};c.prototype.F=function(){if(1>this.a||64<this.a)throw Error("Not a supported type.");};c.prototype.C=function(){this.c=8<this.a?16>=this.a?16:24>=this.a?24:32>=this.a?32:40>=this.a?40:48>=
this.a?48:56>=this.a?56:64:this.a};c.prototype.w=function(){var a=8-(this.c-this.a);this.u=Math.pow(2,0<a?a:8)-1};c.prototype.K=function(a,c,e,d){d=void 0===d?this:d;8>d.a?a[e++]=0>c?c+Math.pow(2,d.a):c:a[e++]=c&255;return e};g.b=c},function(g){g.b=function(c,a){for(var f=c.length,e=0;e<f;){for(var d=c,b=e,g=0,h=a-1,C=parseInt(a/2,10);g<C;){var D=d[b+g];d[b+g]=d[b+h];d[b+h]=D;g++;h--}e+=a}}}]);

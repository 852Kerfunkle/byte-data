/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var m="function"==typeof Object.defineProperties?Object.defineProperty:function(d,h,a){d!=Array.prototype&&d!=Object.prototype&&(d[h]=a.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,p=["Object","assign"],q=0;q<p.length-1;q++){var r=p[q];r in n||(n[r]={});n=n[r]}
var t=p[p.length-1],u=n[t],v=u?u:function(d,h){for(var a=1;a<arguments.length;a++){var f=arguments[a];if(f)for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(d[g]=f[g])}return d};v!=u&&null!=v&&m(n,t,{configurable:!0,writable:!0,value:v});
(function(d){function h(f){if(a[f])return a[f].a;var g=a[f]={Z:f,K:!1,a:{}};d[f].call(g.a,g,g.a,h);g.K=!0;return g.a}var a={};h.Y=d;h.m=a;h.g=function(a,g){h.h(a)||Object.defineProperty(a,"a",{configurable:!1,enumerable:!0,get:g})};h.o=function(a){var g=a&&a.W?function(){return a["default"]}:function(){return a};h.g(g,g);return g};h.h=function(a){return Object.prototype.hasOwnProperty.call(a,"a")};h.v="";return h(h.$=4)})([function(d,h,a){function f(c,b,a){c[a]=g(c[a],b)}function g(c,a){var e=c.length+
1;2==a?e=8:16==a&&(e=2);return b(c,e)}function k(c,b,a){2==b&&4>c[a].length&&(c[a]=Array(5-c[a].length).join("0")+c[a])}function e(c,b,a){(2==b||16==b)&&2>c[a].length&&(c[a]="0"+c[a])}function b(c,b){for(;c.length<b;)c="0"+c;return c}function c(c,b,a){a=void 0===a?f:a;if(10!=b)for(var e=0,l=c.length;e<l;)c[e]=c[e].toString(b),a(c,b,e),e++}var l=a(7),w=a(1);d.a.w=function(c,b){b.F&&l(c,b.offset)};d.a.X=c;d.a.M=function(b,a,l){4==a?c(b,l,k):2==a?c(b,l,e):1==a?c(b,l,function(){}):c(b,l)};d.a.padding=
f;d.a.ba=k;d.a.aa=e;d.a.G=g;d.a.L=b;d.a.s=function(c,b){b.c&&16==b.b&&l(c,2)};d.a.f=function(c,b,a){c=Object.assign(new w({}),c);c.i=b;c.B=a;return c};d.a.S=function(c){Array.isArray(c)||"string"==typeof c||(c=[c]);return c}},function(d,h,a){function f(a){this.b=a.bits;this.char=a["char"];this.c=a["float"];this.F=a.be;this.v=this.c?!0:a.signed;this.B=!0;this.D=this.A=null;this.offset=0;this.i=10;this.max=this.min=null;this.g()}var g=a(8),k=a(9);f.prototype.g=function(){this.offset=8>this.b?1:this.b/
8;this.m();this.o();this.h()};f.prototype.m=function(){this.A=this.char?g.readChar:g["read"+(8>this.b?8:this.b)+"Bit"+(this.c?"Float":"")]};f.prototype.o=function(){this.D=this.char?k.writeString:k["write"+this.b+"Bit"+(this.c?"Float":"")]};f.prototype.h=function(){var a=Math.pow(2,this.b);this.c?this.min=this.max=Infinity:this.v?(this.max=a/2-1,this.min=a/2*-1):(this.max=a-1,this.min=0)};f.prototype.sign=function(a){a>this.max&&(a-=2*this.max+2);return a};d.a=f},function(d,h,a){function f(b,c){c=
void 0===c?!1:c;for(var a="",e=0,d=b.length;e<d;){var k=g.L(b[e].toString(2),8);a=c?a+k:k+a;e++}return a}var g=a(0),k=new Float32Array(1),e=new Int32Array(k.buffer);d.a.H=function(b){b=parseInt(f(b,!0),2);var c=(b&31744)>>10,a=b&1023;return(c?Math.pow(2,c-15)*(1+a/1024):a/1024*.00006103515625)*(b>>15?-1:1)};d.a.I=function(a){if("0,0,0,0,0,0,0,0"==a.toString())return 0;a=f(a);for(var c="1"+a.substr(12,52),b=1,e=0,d=0;d<c.length;)e+=b*parseInt(c.charAt(d),10),b/=2,d++;return("1"==a.charAt(0)?-1:1)*
e*Math.pow(2,parseInt(a.substr(1,11),2)-1023)};d.a.P=function(a){if(0==a)return[0,0];var c=0;0>=a&&(c=2147483648,a=-a);var b=Math.floor(Math.log(a)/Math.log(2)),e=Math.floor(a/Math.pow(2,b)*Math.pow(2,52));a=e&4294967295;e/=Math.pow(2,32);return[c|b+1023<<20|e&1048575,a]};d.a.R=function(a){k[0]=a;var c=e[0];a=c>>16&32768;var b=c>>12&2047;c=c>>23&255;return 103>c?a:(a|c-112<<10|b>>1)+(b&1)}},function(d){function h(a){f[0]=a;return g[0]}var a=new Int8Array(4),f=new Int32Array(a.buffer,0,1),g=new Float32Array(a.buffer,
0,1);d.a=h;d.a.j=h;d.a.l=function(a){g[0]=a;return f[0]}},function(d,h,a){h=a(5);a=a(1);d.a.V=a;window.byteData=window.byteData?window.byteData:{};window.byteData.pack=h.j;window.byteData.findString=h.J;window.byteData.unpack=h.l;window.byteData.packArray=h.N;window.byteData.unpackArray=h.T;window.byteData.unpackStruct=h.U;window.byteData.packStruct=h.O;window.byteData.chr=new a({bits:8,"char":!0});window.byteData.fourCC=new a({bits:32,"char":!0});window.byteData.bool=new a({bits:1});window.byteData.int2=
new a({bits:2,signed:!0});window.byteData.uInt2=new a({bits:2});window.byteData.int4=new a({bits:4,signed:!0});window.byteData.uInt4=new a({bits:4});window.byteData.int8=new a({bits:8,signed:!0});window.byteData.uInt8=new a({bits:8});window.byteData.int16=new a({bits:16,signed:!0});window.byteData.uInt16=new a({bits:16});window.byteData.float16=new a({bits:16,"float":!0});window.byteData.int24=new a({bits:24,signed:!0});window.byteData.uInt24=new a({bits:24});window.byteData.int32=new a({bits:32,
signed:!0});window.byteData.uInt32=new a({bits:32});window.byteData.float32=new a({bits:32,"float":!0});window.byteData.int40=new a({bits:40,signed:!0});window.byteData.uInt40=new a({bits:40});window.byteData.int48=new a({bits:48,signed:!0});window.byteData.uInt48=new a({bits:48});window.byteData.float64=new a({bits:64,"float":!0});window.byteData.int16BE=new a({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new a({bits:16,be:!0});window.byteData.float16BE=new a({bits:16,"float":!0,be:!0});window.byteData.int24BE=
new a({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=new a({bits:24,be:!0});window.byteData.int32BE=new a({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new a({bits:32,be:!0});window.byteData.float32BE=new a({bits:32,"float":!0,be:!0});window.byteData.int40BE=new a({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new a({bits:40,be:!0});window.byteData.int48BE=new a({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new a({bits:48,be:!0});window.byteData.float64BE=new a({bits:64,"float":!0,
be:!0})},function(d,h,a){function f(c,a,e){e=b.f(a,void 0===e?10:e,!0);c=e.char?c.slice(0,a.b/8):c;return k.C(b.S(c),e)}function g(c,a,d){return e.u(c,b.f(a,void 0===d?10:d,!0))}var k=a(6),e=a(10),b=a(0),c=a(1);d.a.j=f;d.a.J=function(a,b){for(var e,d=0;d<a.length;d++)if(e=g(a.slice(d,d+b.length+1),new c({bits:8*b.length,"char":!0})),e==b)return d;return-1};d.a.l=g;d.a.N=function(c,a,e){return k.C(c,b.f(a,void 0===e?10:e,!1))};d.a.T=function(c,a,d){return e.u(c,b.f(a,void 0===d?10:d,!1))};d.a.U=function(c,
a,b){b=void 0===b?10:b;for(var e=0,d=0;d<a.length;d++)e+=a[d].b/8;if(c.length<e)return[];e=[];for(var k=d=0;d<a.length;){var l=8>a[d].b?1:a[d].b/8;e=e.concat(g(c.slice(k,k+l),a[d],b));k+=l;d++}return e};d.a.O=function(a,c,b){b=void 0===b?10:b;if(a.length<c.length)return[];for(var e=[],d=0;d<c.length;d++)e=e.concat(f(a[d],c[d],b));return e}},function(d,h,a){var f=a(0);d.a.C=function(a,d){for(var e=0,b=0,c=a.length,g=[];e<c;){var k=a[e];d.c||(k>d.max?k=d.max:k<d.min&&(k=d.min));b=d.D(g,k,b);e++}f.w(g,
d);f.M(g,d.b,d.i);f.s(g,d);return g}},function(d){d.a=function(d,a){for(var f=d.length,g=0;g<f;){for(var k=d,e=g,b=0,c=a-1,l=parseInt(a/2,10);b<l;){var h=k[e+b];k[e+b]=k[e+c];k[e+c]=h;b++;c--}g+=a}}},function(d,h,a){function f(a,b,e){--e;for(var c="";0<=e;)c+=g.G(a[e+b].toString(2),2),e--;return parseInt(c,2)}var g=a(0),k=a(2),e=a(3),b={read8Bit:function(a,b){return a[b]},read16Bit:function(a,b){return a[1+b]<<8|a[b]},read16BitFloat:function(a,b){return k.H(a.slice(b,b+2))},read24Bit:function(a,b){return a[2+
b]<<16|a[1+b]<<8|a[b]},read32Bit:function(a,b){return(a[3+b]<<24|a[2+b]<<16|a[1+b]<<8|a[b])>>>0},read32BitFloat:function(a,d){return e.j(b.read32Bit(a,d))},read40Bit:function(a,b){return f(a,b,5)},read48Bit:function(a,b){return f(a,b,6)},read64BitFloat:function(a,b){return k.I(a.slice(b,b+8))},readChar:function(a,b,e){var c="",d=0;for(e=e.b/8;d<e;)c+=String.fromCharCode(a[b+d]),d++;return c}};d.a=b},function(d,h,a){var f=a(2),g=a(3),k={write48Bit:function(a,b,c){a[c++]=b&255;a[c++]=b>>8&255;a[c++]=
b>>16&255;a[c++]=b>>24&255;a[c++]=b/4294967296&255;a[c++]=b/1099511627776&255;return c},write40Bit:function(a,b,c){a[c++]=b&255;a[c++]=b>>8&255;a[c++]=b>>16&255;a[c++]=b>>24&255;a[c++]=b/4294967296&255;return c},write32BitFloat:function(a,b,c){b=g.l(b);a[c++]=b&255;a[c++]=b>>>8&255;a[c++]=b>>>16&255;a[c++]=b>>>24&255;return c},write32Bit:function(a,b,c){a[c++]=b&255;a[c++]=b>>>8&255;a[c++]=b>>>16&255;a[c++]=b>>>24&255;return c},write24Bit:function(a,b,c){a[c++]=b&255;a[c++]=b>>>8&255;a[c++]=b>>>16&
255;return c},write16Bit:function(a,b,c){a[c++]=b&255;a[c++]=b>>>8&255;return c},write16BitFloat:function(a,b,c){b=f.R(b);a[c++]=b>>>8&255;a[c++]=b&255;return c},write8Bit:function(a,b,c){a[c++]=b&255;return c},write4Bit:function(a,b,c){a[c++]=b&15;return c},write2Bit:function(a,b,c){a[c++]=0>b?b+4:b;return c},write1Bit:function(a,b,c){a[c++]=b?1:0;return c},writeString:function(a,b,c){a[c++]=b.charCodeAt(0);return c},write64BitFloat:function(a,b,c){b=f.P(b);c=k.write32Bit(a,b[1],c);return k.write32Bit(a,
b[0],c)}};d.a=k},function(d,h,a){var f=a(0);d.a.u=function(a,d){f.s(a,d);f.w(a,d);var e=d.i;if(10!=e)for(var b=0,c=a.length;b<c;)a[b]=parseInt(a[b],e),b++;e=[];b=0;for(c=a.length-(d.offset-1);b<c;)e.push(d.sign(d.A(a,b,d))),b+=d.offset;d.char&&(e=e.join(""));a=e;d.B&&(a=d.char?a.slice(0,d.b/8):a[0]);return a}}]);

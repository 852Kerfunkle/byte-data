/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var q="function"==typeof Object.defineProperties?Object.defineProperty:function(f,m,l){f!=Array.prototype&&f!=Object.prototype&&(f[m]=l.value)},r="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,t=["Object","assign"],u=0;u<t.length-1;u++){var v=t[u];v in r||(r[v]={});r=r[v]}
var w=t[t.length-1],x=r[w],y=x?x:function(f,m){for(var l=1;l<arguments.length;l++){var h=arguments[l];if(h)for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(f[k]=h[k])}return f};y!=x&&null!=y&&q(r,w,{configurable:!0,writable:!0,value:y});
(function(f){function m(h){if(l[h])return l[h].a;var k=l[h]={S:h,J:!1,a:{}};f[h].call(k.a,k,k.a,m);k.J=!0;return k.a}var l={};m.R=f;m.m=l;m.g=function(h,k){m.h(h)||Object.defineProperty(h,"a",{configurable:!1,enumerable:!0,get:k})};m.o=function(h){var k=h&&h.P?function(){return h["default"]}:function(){return h};m.g(k,k);return k};m.h=function(h){return Object.prototype.hasOwnProperty.call(h,"a")};m.v="";return m(m.T=2)})([function(f,m,l){function h(b,d,e){b[e]=k(b[e],d)}function k(b,d){var e=b.length+
1;2==d?e=8:16==d&&(e=2);return a(b,e)}function c(b,e,a){2==e&&4>b[a].length&&(b[a]=Array(5-b[a].length).join("0")+b[a])}function p(b,e,a){(2==e||16==e)&&2>b[a].length&&(b[a]="0"+b[a])}function a(b,e){for(;b.length<e;)b="0"+b;return b}function n(b,e,a){a=void 0===a?h:a;if(10!=e)for(var d=0,c=b.length;d<c;)b[d]=b[d].toString(e),a(b,e,d),d++}var g=l(4),e=l(1);f.a.w=function(b,e){e.F&&g(b,e.offset)};f.a.L=function(b,e,a){4==e?n(b,a,c):2==e?n(b,a,p):1==e?n(b,a,function(){}):n(b,a)};f.a.padding=h;f.a.V=
c;f.a.U=p;f.a.G=k;f.a.K=a;f.a.s=function(b,e){e.c&&16==e.b&&g(b,2)};f.a.f=function(b,a,c){b=Object.assign(new e({}),b);b.i=a;b.B=c;return b};f.a.O=function(b){Array.isArray(b)||"string"==typeof b||(b=[b]);return b}},function(f,m,l){function h(c){this.b=c.bits;this.char=c["char"];this.c=c["float"];this.F=c.be;this.v=this.c?!0:c.signed;this.B=!0;this.D=this.A=null;this.offset=0;this.i=10;this.min=-Infinity;this.max=Infinity;this.g()}var k=l(5);h.prototype.sign=function(c){c>this.max&&(c-=2*this.max+
2);return c};h.prototype.overflow=function(c){c>this.max?c=this.max:c<this.min&&(c=this.min);return c};h.prototype.g=function(){this.offset=8>this.b?1:this.b/8;this.m();this.o();this.c||this.h()};h.prototype.m=function(){this.A=this.char?k.j.readChar:k.j["read"+(8>this.b?8:this.b)+"Bit"+(this.c?"Float":"")]};h.prototype.o=function(){this.D=this.char?k.l.writeString:k.l["write"+this.b+"Bit"+(this.c?"Float":"")]};h.prototype.h=function(){var c=Math.pow(2,this.b);this.v?(this.max=c/2-1,this.min=c/2*
-1):(this.max=c-1,this.min=0)};f.a=h},function(f,m,l){function h(a,g,e){e=p.f(g,void 0===e?10:e,!0);a=e.char?a.slice(0,g.b/8):a;return c.C(p.O(a),e)}function k(a,g,e){return c.u(a,p.f(g,void 0===e?10:e,!0))}var c=l(3),p=l(0),a=l(1);window.byteData=window.byteData?window.byteData:{};window.byteData.pack=h;window.byteData.unpack=k;window.byteData.packArray=function(a,g,e){return c.C(a,p.f(g,void 0===e?10:e,!1))};window.byteData.unpackArray=function(a,g,e){return c.u(a,p.f(g,void 0===e?10:e,!1))};window.byteData.unpackStruct=
function(a,c,e){e=void 0===e?10:e;for(var b=0,d=0;d<c.length;d++)b+=c[d].b/8;if(a.length<b)return[];b=[];for(var g=d=0;d<c.length;){var h=8>c[d].b?1:c[d].b/8;b=b.concat(k(a.slice(g,g+h),c[d],e));g+=h;d++}return b};window.byteData.packStruct=function(a,c,e){e=void 0===e?10:e;if(a.length<c.length)return[];for(var b=[],d=0;d<c.length;d++)b=b.concat(h(a[d],c[d],e));return b};window.byteData.findString=function(c,g){for(var e,b=0;b<c.length;b++)if(e=k(c.slice(b,b+g.length+1),new a({bits:8*g.length,"char":!0})),
e==g)return b;return-1};window.byteData.Type=a;window.byteData.chr=new a({bits:8,"char":!0});window.byteData.fourCC=new a({bits:32,"char":!0});window.byteData.bool=new a({bits:1});window.byteData.int2=new a({bits:2,signed:!0});window.byteData.uInt2=new a({bits:2});window.byteData.int4=new a({bits:4,signed:!0});window.byteData.uInt4=new a({bits:4});window.byteData.int8=new a({bits:8,signed:!0});window.byteData.uInt8=new a({bits:8});window.byteData.int16=new a({bits:16,signed:!0});window.byteData.uInt16=
new a({bits:16});window.byteData.float16=new a({bits:16,"float":!0});window.byteData.int24=new a({bits:24,signed:!0});window.byteData.uInt24=new a({bits:24});window.byteData.int32=new a({bits:32,signed:!0});window.byteData.uInt32=new a({bits:32});window.byteData.float32=new a({bits:32,"float":!0});window.byteData.int40=new a({bits:40,signed:!0});window.byteData.uInt40=new a({bits:40});window.byteData.int48=new a({bits:48,signed:!0});window.byteData.uInt48=new a({bits:48});window.byteData.float64=
new a({bits:64,"float":!0});window.byteData.int16BE=new a({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new a({bits:16,be:!0});window.byteData.float16BE=new a({bits:16,"float":!0,be:!0});window.byteData.int24BE=new a({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=new a({bits:24,be:!0});window.byteData.int32BE=new a({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new a({bits:32,be:!0});window.byteData.float32BE=new a({bits:32,"float":!0,be:!0});window.byteData.int40BE=new a({bits:40,
signed:!0,be:!0});window.byteData.uInt40BE=new a({bits:40,be:!0});window.byteData.int48BE=new a({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new a({bits:48,be:!0});window.byteData.float64BE=new a({bits:64,"float":!0,be:!0})},function(f,m,l){var h=l(0);f.a.C=function(k,c){for(var f=0,a=0,n=k.length,g=[];f<n;)a=c.D(g,c.overflow(k[f]),a),f++;h.w(g,c);h.L(g,c.b,c.i);h.s(g,c);return g};f.a.u=function(k,c){h.s(k,c);h.w(k,c);var f=c.i;if(10!=f)for(var a=0,n=k.length;a<n;)k[a]=parseInt(k[a],f),a++;
f=[];a=0;for(n=k.length-(c.offset-1);a<n;)f.push(c.sign(c.A(k,a,c))),a+=c.offset;c.char&&(f=f.join(""));k=f;c.B&&(k=c.char?k.slice(0,c.b/8):k[0]);return k}},function(f){f.a=function(f,l){for(var h=f.length,k=0;k<h;){for(var c=f,m=k,a=0,n=l-1,g=parseInt(l/2,10);a<g;){var e=c[m+a];c[m+a]=c[m+n];c[m+n]=e;a++;n--}k+=l}}},function(f,m,l){function h(a,b,d){--d;for(var e="";0<=d;)e+=k.G(a[d+b].toString(2),2),d--;return parseInt(e,2)}var k=l(0),c=l(6);m=new Int8Array(4);var p=new Int32Array(m.buffer,0,1),
a=new Float32Array(m.buffer,0,1),n={read8Bit:function(a,b){return a[b]},read16Bit:function(a,b){return a[1+b]<<8|a[b]},read16BitFloat:function(a,b){return c.H(a.slice(b,b+2))},read24Bit:function(a,b){return a[2+b]<<16|n.read16Bit(a,b)},read32Bit:function(a,b){return(a[3+b]<<24|n.read24Bit(a,b))>>>0},read32BitFloat:function(e,b){p[0]=n.read32Bit(e,b);return a[0]},read40Bit:function(a,b){return h(a,b,5)},read48Bit:function(a,b){return h(a,b,6)},read64BitFloat:function(a,b){return c.I(a.slice(b,b+8))},
readChar:function(a,b,d){var e="",c=0;for(d=d.b/8;c<d;)e+=String.fromCharCode(a[b+c]),c++;return e}},g={write64BitFloat:function(a,b,d){b=c.M(b);d=g.write32Bit(a,b[1],d);return g.write32Bit(a,b[0],d)},write48Bit:function(a,b,d){d=g.write40Bit(a,b,d);a[d++]=b/1099511627776&255;return d},write40Bit:function(a,b,d){d=g.write32Bit(a,b,d);a[d++]=b/4294967296&255;return d},write32BitFloat:function(e,b,d){a[0]=b;return d=g.write32Bit(e,p[0],d)},write32Bit:function(a,b,d){d=g.write24Bit(a,b,d);a[d++]=b>>>
24&255;return d},write24Bit:function(a,b,d){d=g.write16Bit(a,b,d);a[d++]=b>>>16&255;return d},write16Bit:function(a,b,d){a[d++]=b&255;a[d++]=b>>>8&255;return d},write16BitFloat:function(a,b,d){b=c.N(b);a[d++]=b>>>8&255;a[d++]=b&255;return d},write8Bit:function(a,b,d){a[d++]=b&255;return d},write4Bit:function(a,b,d){a[d++]=b&15;return d},write2Bit:function(a,b,d){a[d++]=0>b?b+4:b;return d},write1Bit:function(a,b,d){a[d++]=b?1:0;return d},writeString:function(a,b,d){a[d++]=b.charCodeAt(0);return d}};
f.a.l=g;f.a.j=n},function(f,m,l){function h(a,c){c=void 0===c?!1:c;for(var g="",e=0,b=a.length;e<b;){var d=k.K(a[e].toString(2),8);g=c?g+d:d+g;e++}return g}var k=l(0),c=new Float32Array(1),p=new Int32Array(c.buffer);f.a.H=function(a){a=parseInt(h(a,!0),2);var c=(a&31744)>>10,g=a&1023;return(c?Math.pow(2,c-15)*(1+g/1024):g/1024*.00006103515625)*(a>>15?-1:1)};f.a.I=function(a){if("0,0,0,0,0,0,0,0"==a.toString())return 0;a=h(a);for(var c="1"+a.substr(12,52),g=1,e=0,b=0;b<c.length;)e+=g*parseInt(c.charAt(b),
10),g/=2,b++;return("1"==a.charAt(0)?-1:1)*e*Math.pow(2,parseInt(a.substr(1,11),2)-1023)};f.a.M=function(a){if(0==a)return[0,0];var c=0;0>=a&&(c=2147483648,a=-a);var g=Math.floor(Math.log(a)/Math.log(2)),e=Math.floor(a/Math.pow(2,g)*Math.pow(2,52));a=e&4294967295;e/=Math.pow(2,32);return[c|g+1023<<20|e&1048575,a]};f.a.N=function(a){c[0]=a;var f=p[0];a=f>>16&32768;var g=f>>12&2047;f=f>>23&255;return 103>f?a:(a|f-112<<10|g>>1)+(g&1)}}]);

/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var n="function"==typeof Object.defineProperties?Object.defineProperty:function(m,h,l){m!=Array.prototype&&m!=Object.prototype&&(m[h]=l.value)},p="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,q=["Object","assign"],r=0;r<q.length-1;r++){var t=q[r];t in p||(p[t]={});p=p[t]}
var u=q[q.length-1],v=p[u],w=v?v:function(m,h){for(var l=1;l<arguments.length;l++){var g=arguments[l];if(g)for(var k in g)Object.prototype.hasOwnProperty.call(g,k)&&(m[k]=g[k])}return m};w!=v&&null!=w&&n(p,u,{configurable:!0,writable:!0,value:w});
(function(m){function h(g){if(l[g])return l[g].g;var k=l[g]={F:g,C:!1,g:{}};m[g].call(k.g,k,k.g,h);k.C=!0;return k.g}var l={};h.u=m;h.l=l;h.c=function(g,k){h.i(g)||Object.defineProperty(g,"a",{configurable:!1,enumerable:!0,get:k})};h.m=function(g){var k=g&&g.D?function(){return g["default"]}:function(){return g};h.c(k,k);return k};h.i=function(g){return Object.prototype.hasOwnProperty.call(g,"a")};h.s="";return h(h.v=1)})([function(m){function h(b){this.a=b.bits;this.char=b["char"];this.c=b["float"];
this.j=b.be;this.v=this.c?!0:b.signed;this.B=this.w=null;this.offset=0;this.f=b.base?b.base:10;this.min=-Infinity;this.max=Infinity;this.b=this.a;this.i()}function l(b,f,a){--a;for(var c="";0<=a;){var d=b[a+f].toString(2);c+=Array(9-d.length).join("0")+d;a--}return parseInt(c,2)}var g=new Float32Array(1),k=new Int32Array(g.buffer),e=new Float64Array(1),a=new Uint32Array(e.buffer),c={read8Bit:function(b,f){return b[f]},read16Bit:function(b,f){return b[1+f]<<8|b[f]},read16BitFloat:function(b,f){b=[b[f],
b[f+1]];f="";for(var a=0,c=b.length;a<c;){var d=b[a].toString(2);f=Array(9-d.length).join("0")+d+f;a++}b=parseInt(f,2);f=(b&31744)>>10;a=b&1023;return(f?Math.pow(2,f-15)*(1+a/1024):a/1024*.00006103515625)*(b>>15?-1:1)},read24Bit:function(b,a){return b[2+a]<<16|c.read16Bit(b,a)},read32Bit:function(b,a){return(b[3+a]<<24|c.read24Bit(b,a))>>>0},read32BitFloat:function(b,a){k[0]=c.read32Bit(b,a);return g[0]},read40Bit:function(b,a){return l(b,a,5)},read48Bit:function(b,a){return l(b,a,6)},read56Bit:function(b,
a){return l(b,a,7)},read64BitFloat:function(b,f){a[0]=c.read32Bit(b,f);a[1]=c.read32Bit(b,f+4);return e[0]},readChar:function(b,a,c){var f="",d=0;for(c=c.a/8;d<c;)f+=String.fromCharCode(b[a+d]),d++;return f}},d={write64BitFloat:function(b,f,c){e[0]=f;b[c++]=a[0]&255;b[c++]=a[0]>>>8&255;b[c++]=a[0]>>>16&255;b[c++]=a[0]>>>24&255;b[c++]=a[1]&255;b[c++]=a[1]>>>8&255;b[c++]=a[1]>>>16&255;b[c++]=a[1]>>>24&255;return c},write32BitFloat:function(b,a,c,e){g[0]=a;return c=d.write(b,k[0],c,e)},write16BitFloat:function(b,
a,c){g[0]=a;var f=k[0];a=f>>16&32768;var d=f>>12&2047;f=f>>23&255;103<=f&&(a=(a|f-112<<10|d>>1)+(d&1));b[c++]=a&255;b[c++]=a>>>8&255;return c},writeString:function(a,c,d){a[d++]=c.charCodeAt(0);return d},write:function(a,c,d,e){for(var b=255,f=1;f<=e.offset;f++)if(1==f){if(1==e.offset&&8>e.a){b=Math.pow(2,e.a);a[d++]=0>c?c+b:c;break}a[d++]=c&b}else f==e.offset&&(b=8-(e.b-e.a),b=Math.pow(2,0<b?b:8)-1),a[d++]=Math.floor(c/Math.pow(2,8*(f-1)))&b;return d}};h.prototype.sign=function(a){a>this.max&&(a-=
2*this.max+2);return a};h.prototype.overflow=function(a){a>this.max?a=this.max:a<this.min&&(a=this.min);return a};h.prototype.i=function(){this.s();this.offset=8>this.a?1:Math.ceil(this.b/8);this.m();this.u();this.c||this.l()};h.prototype.m=function(){this.w=this.char?c.readChar:c["read"+(8>this.a?8:this.b)+"Bit"+(this.c?"Float":"")]};h.prototype.u=function(){this.B=this.char?d.writeString:this.c?d["write"+this.b+"BitFloat"]:d.write};h.prototype.l=function(){var a=Math.pow(2,this.a);this.v?(this.max=
a/2-1,this.min=-a/2):(this.max=a-1,this.min=0)};h.prototype.s=function(){this.b=8<this.a?16>=this.a?16:24>=this.a?24:32>=this.a?32:40>=this.a?40:48>=this.a?48:56>=this.a?56:64:this.a};m.g=h},function(m,h,l){function g(a,d,b){var c=[];d.char?c=d.char?a.slice(0,d.b/8):a:Array.isArray(a)||(c=[a]);return e.A(c,e.h(d,void 0===b?10:b))}function k(a,d,b){a=e.o(a.slice(0,8>d.a?d.a:d.b/8),e.h(d,void 0===b?10:b));return a=d.char?a.slice(0,d.a/8):a[0]}var e=l(2),a=l(0);window.byteData=window.byteData?window.byteData:
{};window.byteData.pack=g;window.byteData.unpack=k;window.byteData.packArray=function(a,d,b){return e.A(a,e.h(d,void 0===b?10:b))};window.byteData.unpackArray=function(a,d,b){return e.o(a,e.h(d,void 0===b?10:b))};window.byteData.unpackStruct=function(a,d,b){b=void 0===b?10:b;for(var c=0,e=0;e<d.length;e++)c+=d[e].b/8;if(a.length<c)return[];c=[];for(var g=e=0;e<d.length;){var h=8>d[e].a?1:d[e].b/8;c=c.concat(k(a.slice(g,g+h),d[e],b));g+=h;e++}return c};window.byteData.packStruct=function(a,d,b){b=
void 0===b?10:b;if(a.length<d.length)return[];for(var c=[],e=0;e<d.length;e++)c=c.concat(g(a[e],d[e],b));return c};window.byteData.findString=function(c,d){for(var b,e=0;e<c.length;e++)if(b=k(c.slice(e,e+d.length+1),new a({bits:8*d.length,"char":!0})),b==d)return e;return-1};window.byteData.Type=a;window.byteData.chr=new a({bits:8,"char":!0});window.byteData.fourCC=new a({bits:32,"char":!0});window.byteData.bool=new a({bits:1});window.byteData.int2=new a({bits:2,signed:!0});window.byteData.uInt2=
new a({bits:2});window.byteData.int4=new a({bits:4,signed:!0});window.byteData.uInt4=new a({bits:4});window.byteData.int8=new a({bits:8,signed:!0});window.byteData.uInt8=new a({bits:8});window.byteData.int16=new a({bits:16,signed:!0});window.byteData.uInt16=new a({bits:16});window.byteData.float16=new a({bits:16,"float":!0});window.byteData.int24=new a({bits:24,signed:!0});window.byteData.uInt24=new a({bits:24});window.byteData.int32=new a({bits:32,signed:!0});window.byteData.uInt32=new a({bits:32});
window.byteData.float32=new a({bits:32,"float":!0});window.byteData.int40=new a({bits:40,signed:!0});window.byteData.uInt40=new a({bits:40});window.byteData.int48=new a({bits:48,signed:!0});window.byteData.uInt48=new a({bits:48});window.byteData.float64=new a({bits:64,"float":!0});window.byteData.int16BE=new a({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new a({bits:16,be:!0});window.byteData.float16BE=new a({bits:16,"float":!0,be:!0});window.byteData.int24BE=new a({bits:24,signed:!0,be:!0});
window.byteData.uInt24BE=new a({bits:24,be:!0});window.byteData.int32BE=new a({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new a({bits:32,be:!0});window.byteData.float32BE=new a({bits:32,"float":!0,be:!0});window.byteData.int40BE=new a({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new a({bits:40,be:!0});window.byteData.int48BE=new a({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new a({bits:48,be:!0});window.byteData.float64BE=new a({bits:64,"float":!0,be:!0})},function(m,h,l){var g=
l(0),k=l(3);h.h=function(e,a){e=Object.assign(new g({}),e);e.f=a;return e};h.A=function(e,a){for(var c=0,d=0,b=e.length,f=[];c<b;)d=a.B(f,a.overflow(e[c]),d,a),c++;a.j&&k(f,a.offset);if(10!=a.f){e=a.f;c=0;for(d=f.length;c<d;)f[c]=f[c].toString(e),c++;e=0;c=f.length;for(a=(2==a.f?8:2)+1;e<c;)f[e]=Array(a-f[e].length).join("0")+f[e],e++}return f};h.o=function(e,a){a.j&&k(e,a.offset);if(10!=a.f)for(var c=a.f,d=0,b=e.length;d<b;)e[d]=parseInt(e[d],c),d++;c=[];d=0;for(b=e.length-(a.offset-1);d<b;)c.push(a.overflow(a.sign(a.w(e,
d,a)))),d+=a.offset;a.char&&(c=c.join(""));return c}},function(m){m.g=function(h,l){for(var g=h.length,k=0;k<g;){for(var e=h,a=k,c=0,d=l-1,b=parseInt(l/2,10);c<b;){var f=e[a+c];e[a+c]=e[a+d];e[a+d]=f;c++;d--}k+=l}}}]);

/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var m="function"==typeof Object.defineProperties?Object.defineProperty:function(k,l,h){k!=Array.prototype&&k!=Object.prototype&&(k[l]=h.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,p=["Object","assign"],q=0;q<p.length-1;q++){var r=p[q];r in n||(n[r]={});n=n[r]}
var t=p[p.length-1],u=n[t],v=u?u:function(k,l){for(var h=1;h<arguments.length;h++){var f=arguments[h];if(f)for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(k[g]=f[g])}return k};v!=u&&null!=v&&m(n,t,{configurable:!0,writable:!0,value:v});
(function(k){function l(f){if(h[f])return h[f].b;var g=h[f]={H:f,D:!1,b:{}};k[f].call(g.b,g,g.b,l);g.D=!0;return g.b}var h={};l.v=k;l.m=h;l.c=function(f,g){l.h(f)||Object.defineProperty(f,"a",{configurable:!1,enumerable:!0,get:g})};l.o=function(f){var g=f&&f.G?function(){return f["default"]}:function(){return f};l.c(g,g);return g};l.h=function(f){return Object.prototype.hasOwnProperty.call(f,"a")};l.u="";return l(l.I=1)})([function(k,l,h){function f(a){this.a=a.bits;this.char=a["char"];this.c=a["float"];
this.l=a.be;this.v=this.c?!0:a.signed;this.A=!0;this.C=this.w=null;this.offset=0;this.f=10;this.min=-Infinity;this.max=Infinity;this.h()}var g=h(3);f.prototype.sign=function(a){a>this.max&&(a-=2*this.max+2);return a};f.prototype.overflow=function(a){a>this.max?a=this.max:a<this.min&&(a=this.min);return a};f.prototype.h=function(){this.offset=8>this.a?1:this.a/8;this.o();this.u();this.c||this.m()};f.prototype.o=function(){this.w=this.char?g.i.readChar:g.i["read"+(8>this.a?8:this.a)+"Bit"+(this.c?"Float":
"")]};f.prototype.u=function(){this.C=this.char?g.j.writeString:g.j["write"+this.a+"Bit"+(this.c?"Float":"")]};f.prototype.m=function(){var a=Math.pow(2,this.a);this.v?(this.max=a/2-1,this.min=a/2*-1):(this.max=a-1,this.min=0)};k.b=f},function(k,l,h){function f(d,c,e){e=a.g(c,void 0===e?10:e,!0);d=e.char?d.slice(0,c.a/8):d;return a.B(a.F(d),e)}function g(d,c,e){return a.s(d,a.g(c,void 0===e?10:e,!0))}var a=h(2),b=h(0);window.byteData=window.byteData?window.byteData:{};window.byteData.pack=f;window.byteData.unpack=
g;window.byteData.packArray=function(d,c,e){return a.B(d,a.g(c,void 0===e?10:e,!1))};window.byteData.unpackArray=function(d,c,e){return a.s(d,a.g(c,void 0===e?10:e,!1))};window.byteData.unpackStruct=function(d,c,e){e=void 0===e?10:e;for(var b=0,a=0;a<c.length;a++)b+=c[a].a/8;if(d.length<b)return[];b=[];for(var f=a=0;a<c.length;){var h=8>c[a].a?1:c[a].a/8;b=b.concat(g(d.slice(f,f+h),c[a],e));f+=h;a++}return b};window.byteData.packStruct=function(d,c,e){e=void 0===e?10:e;if(d.length<c.length)return[];
for(var b=[],a=0;a<c.length;a++)b=b.concat(f(d[a],c[a],e));return b};window.byteData.findString=function(d,c){for(var e,a=0;a<d.length;a++)if(e=g(d.slice(a,a+c.length+1),new b({bits:8*c.length,"char":!0})),e==c)return a;return-1};window.byteData.Type=b;window.byteData.chr=new b({bits:8,"char":!0});window.byteData.fourCC=new b({bits:32,"char":!0});window.byteData.bool=new b({bits:1});window.byteData.int2=new b({bits:2,signed:!0});window.byteData.uInt2=new b({bits:2});window.byteData.int4=new b({bits:4,
signed:!0});window.byteData.uInt4=new b({bits:4});window.byteData.int8=new b({bits:8,signed:!0});window.byteData.uInt8=new b({bits:8});window.byteData.int16=new b({bits:16,signed:!0});window.byteData.uInt16=new b({bits:16});window.byteData.float16=new b({bits:16,"float":!0});window.byteData.int24=new b({bits:24,signed:!0});window.byteData.uInt24=new b({bits:24});window.byteData.int32=new b({bits:32,signed:!0});window.byteData.uInt32=new b({bits:32});window.byteData.float32=new b({bits:32,"float":!0});
window.byteData.int40=new b({bits:40,signed:!0});window.byteData.uInt40=new b({bits:40});window.byteData.int48=new b({bits:48,signed:!0});window.byteData.uInt48=new b({bits:48});window.byteData.float64=new b({bits:64,"float":!0});window.byteData.int16BE=new b({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new b({bits:16,be:!0});window.byteData.float16BE=new b({bits:16,"float":!0,be:!0});window.byteData.int24BE=new b({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=new b({bits:24,be:!0});window.byteData.int32BE=
new b({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new b({bits:32,be:!0});window.byteData.float32BE=new b({bits:32,"float":!0,be:!0});window.byteData.int40BE=new b({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new b({bits:40,be:!0});window.byteData.int48BE=new b({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new b({bits:48,be:!0});window.byteData.float64BE=new b({bits:64,"float":!0,be:!0})},function(k,l,h){var f=h(0),g=h(4);k.b.g=function(a,b,d){a=Object.assign(new f({}),a);a.f=
b;a.A=d;return a};k.b.F=function(a){Array.isArray(a)||"string"==typeof a||(a=[a]);return a};k.b.B=function(a,b){for(var d=0,c=0,e=a.length,f=[];d<e;)c=b.C(f,b.overflow(a[d]),c),d++;b.l&&g(f,b.offset);if(10!=b.f){a=b.f;d=0;for(c=f.length;d<c;)f[d]=f[d].toString(a),d++;if(1<b.a){a=0;d=f.length;var h;7<b.a?h=2==b.f?8:2:h=2==b.f?b.a:1;for(b=h+1;a<d;)f[a]=Array(b-f[a].length).join("0")+f[a],a++}}return f};k.b.s=function(a,b){b.l&&g(a,b.offset);var d=b.f;if(10!=d)for(var c=0,e=a.length;c<e;)a[c]=parseInt(a[c],
d),c++;d=[];c=0;for(e=a.length-(b.offset-1);c<e;)d.push(b.sign(b.w(a,c,b))),c+=b.offset;b.char&&(d=d.join(""));a=d;b.A&&(a=b.char?a.slice(0,b.a/8):a[0]);return a}},function(k){function l(d){for(var c="",e=0,a=d.length;e<a;){var b=d[e].toString(2);c=Array(9-b.length).join("0")+b+c;e++}return c}function h(d,c,e){--e;for(var a="";0<=e;){var b=d[e+c].toString(2);a+=Array(9-b.length).join("0")+b;e--}return parseInt(a,2)}var f=new Float32Array(1),g=new Int32Array(f.buffer),a={read8Bit:function(d,c){return d[c]},
read16Bit:function(d,c){return d[1+c]<<8|d[c]},read16BitFloat:function(d,c){d=parseInt(l([d[c],d[c+1]]),2);c=(d&31744)>>10;var e=d&1023;return(c?Math.pow(2,c-15)*(1+e/1024):e/1024*.00006103515625)*(d>>15?-1:1)},read24Bit:function(d,c){return d[2+c]<<16|a.read16Bit(d,c)},read32Bit:function(d,c){return(d[3+c]<<24|a.read24Bit(d,c))>>>0},read32BitFloat:function(d,c){g[0]=a.read32Bit(d,c);return f[0]},read40Bit:function(d,c){return h(d,c,5)},read48Bit:function(d,c){return h(d,c,6)},read64BitFloat:function(d,
c){d=l(d.slice(c,c+8));c="1"+d.substr(12,52);for(var e=1,a=0,b=0;b<c.length;)a+=e*parseInt(c.charAt(b),10),e/=2,b++;d=("1"==d.charAt(0)?-1:1)*a*Math.pow(2,parseInt(d.substr(1,11),2)-1023);return-0==d?0:d},readChar:function(d,c,e){var a="",b=0;for(e=e.a/8;b<e;)a+=String.fromCharCode(d[c+b]),b++;return a}},b={write64BitFloat:function(d,c,a){var e=c;if(0==e)c=[0,0];else{c=0;0>=e&&(c=2147483648,e=-e);var f=Math.floor(Math.log(e)/Math.log(2)),g=Math.floor(e/Math.pow(2,f)*Math.pow(2,52));e=g&4294967295;
g/=Math.pow(2,32);c=[c|f+1023<<20|g&1048575,e]}a=b.write32Bit(d,c[1],a);return b.write32Bit(d,c[0],a)},write48Bit:function(d,c,a){a=b.write40Bit(d,c,a);d[a++]=c/1099511627776&255;return a},write40Bit:function(d,c,a){a=b.write32Bit(d,c,a);d[a++]=c/4294967296&255;return a},write32BitFloat:function(a,c,e){f[0]=c;return e=b.write32Bit(a,g[0],e)},write32Bit:function(a,c,e){e=b.write24Bit(a,c,e);a[e++]=c>>>24&255;return e},write24Bit:function(a,c,e){e=b.write16Bit(a,c,e);a[e++]=c>>>16&255;return e},write16Bit:function(a,
c,b){a[b++]=c&255;a[b++]=c>>>8&255;return b},write16BitFloat:function(a,c,b){f[0]=c;var d=g[0];c=d>>16&32768;var e=d>>12&2047;d=d>>23&255;103>d||(c=(c|d-112<<10|e>>1)+(e&1));a[b]=c&255;a[b+1]=c>>>8&255;return b+2},write8Bit:function(a,c,b){a[b++]=c&255;return b},write4Bit:function(a,c,b){a[b++]=c&15;return b},write2Bit:function(a,c,b){a[b++]=0>c?c+4:c;return b},write1Bit:function(a,c,b){a[b++]=c?1:0;return b},writeString:function(a,b,e){a[e++]=b.charCodeAt(0);return e}};k.b.j=b;k.b.i=a},function(k){k.b=
function(l,h){for(var f=l.length,g=0;g<f;){for(var a=l,b=g,d=0,c=h-1,e=parseInt(h/2,10);d<e;){var k=a[b+d];a[b+d]=a[b+c];a[b+c]=k;d++;c--}g+=h}}}]);

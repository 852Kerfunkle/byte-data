/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var n="function"==typeof Object.defineProperties?Object.defineProperty:function(m,g,l){m!=Array.prototype&&m!=Object.prototype&&(m[g]=l.value)},p="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,q=["Object","assign"],r=0;r<q.length-1;r++){var t=q[r];t in p||(p[t]={});p=p[t]}
var u=q[q.length-1],v=p[u],w=v?v:function(m,g){for(var l=1;l<arguments.length;l++){var h=arguments[l];if(h)for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(m[k]=h[k])}return m};w!=v&&null!=w&&n(p,u,{configurable:!0,writable:!0,value:w});
(function(m){function g(h){if(l[h])return l[h].g;var k=l[h]={F:h,C:!1,g:{}};m[h].call(k.g,k,k.g,g);k.C=!0;return k.g}var l={};g.u=m;g.l=l;g.c=function(h,k){g.i(h)||Object.defineProperty(h,"a",{configurable:!1,enumerable:!0,get:k})};g.m=function(h){var k=h&&h.D?function(){return h["default"]}:function(){return h};g.c(k,k);return k};g.i=function(g){return Object.prototype.hasOwnProperty.call(g,"a")};g.s="";return g(g.v=1)})([function(m){function g(b){this.a=b.bits;this.char=b["char"];this.c=b["float"];
this.j=b.be;this.v=this.c?!0:b.signed;this.B=this.w=null;this.offset=0;this.f=b.base?b.base:10;this.min=-Infinity;this.max=Infinity;this.b=this.a;this.i()}function l(b,c,a){--a;for(var e="";0<=a;){var d=b[a+c].toString(2);e+=Array(9-d.length).join("0")+d;a--}return parseInt(e,2)}g.prototype.sign=function(b){b>this.max&&(b-=2*this.max+2);return b};g.prototype.overflow=function(b){b>this.max?b=this.max:b<this.min&&(b=this.min);return b};g.prototype.i=function(){this.s();this.offset=8>this.a?1:Math.ceil(this.b/
8);this.m();this.u();this.c||this.l()};g.prototype.m=function(){this.w=this.char?d.readChar:d["read"+(8>this.a?8:this.b)+"Bit"+(this.c?"Float":"")]};g.prototype.u=function(){this.B=this.char?e.writeString:this.c?e["write"+this.b+"BitFloat"]:e.write};g.prototype.l=function(){var b=Math.pow(2,this.a);this.v?(this.max=b/2-1,this.min=-b/2):(this.max=b-1,this.min=0)};g.prototype.s=function(){this.b=8<this.a?16>=this.a?16:24>=this.a?24:32>=this.a?32:40>=this.a?40:48>=this.a?48:56>=this.a?56:64:this.a};
var h=new Float32Array(1),k=new Int32Array(h.buffer),f=new Float64Array(1),a=new Uint32Array(f.buffer),d={read8Bit:function(b,c){return b[c]},read16Bit:function(b,c){return b[1+c]<<8|b[c]},read16BitFloat:function(b,c){b=[b[c],b[c+1]];c="";for(var a=0,e=b.length;a<e;){var d=b[a].toString(2);c=Array(9-d.length).join("0")+d+c;a++}b=parseInt(c,2);c=(b&31744)>>10;a=b&1023;return(c?Math.pow(2,c-15)*(1+a/1024):a/1024*.00006103515625)*(b>>15?-1:1)},read24Bit:function(b,c){return b[2+c]<<16|d.read16Bit(b,
c)},read32Bit:function(b,c){return(b[3+c]<<24|d.read24Bit(b,c))>>>0},read32BitFloat:function(b,c){k[0]=d.read32Bit(b,c);return h[0]},read40Bit:function(b,c){return l(b,c,5)},read48Bit:function(b,c){return l(b,c,6)},read56Bit:function(b,c){return l(b,c,7)},read64BitFloat:function(b,c){a[0]=d.read32Bit(b,c);a[1]=d.read32Bit(b,c+4);return f[0]},readChar:function(b,c,a){var d="",e=0;for(a=a.a/8;e<a;)d+=String.fromCharCode(b[c+e]),e++;return d}},e={write64BitFloat:function(b,c,d){f[0]=c;d=e.write(b,a[0],
d,new g({bits:32}));return e.write(b,a[1],d,new g({bits:32}))},write32BitFloat:function(b,a,d,f){h[0]=a;return d=e.write(b,k[0],d,f)},write16BitFloat:function(b,a,d){h[0]=a;var c=k[0];a=c>>16&32768;var e=c>>12&2047;c=c>>23&255;103<=c&&(a=(a|c-112<<10|e>>1)+(e&1));b[d]=a&255;b[d+1]=a>>>8&255;return d+2},writeString:function(b,a,d){b[d++]=a.charCodeAt(0);return d},write:function(b,a,d,e){for(var c=255,f=1;f<=e.offset;f++)if(1==f){if(1==e.offset&&8>e.a){c=Math.pow(2,e.a);b[d++]=0>a?a+c:a;break}b[d++]=
a&c}else f==e.offset&&(c=8-(e.b-e.a),c=Math.pow(2,0<c?c:8)-1),b[d++]=Math.floor(a/Math.pow(2,8*(f-1)))&c;return d}};m.g=g},function(m,g,l){function h(a,e,b){var c=[];e.char?c=e.char?a.slice(0,e.b/8):a:Array.isArray(a)||(c=[a]);return f.A(c,f.h(e,void 0===b?10:b))}function k(a,e,b){a=f.o(a.slice(0,8>e.a?e.a:e.b/8),f.h(e,void 0===b?10:b));return a=e.char?a.slice(0,e.a/8):a[0]}var f=l(2),a=l(0);window.byteData=window.byteData?window.byteData:{};window.byteData.pack=h;window.byteData.unpack=k;window.byteData.packArray=
function(a,e,b){return f.A(a,f.h(e,void 0===b?10:b))};window.byteData.unpackArray=function(a,e,b){return f.o(a,f.h(e,void 0===b?10:b))};window.byteData.unpackStruct=function(a,e,b){b=void 0===b?10:b;for(var c=0,d=0;d<e.length;d++)c+=e[d].b/8;if(a.length<c)return[];c=[];for(var f=d=0;d<e.length;){var g=8>e[d].a?1:e[d].b/8;c=c.concat(k(a.slice(f,f+g),e[d],b));f+=g;d++}return c};window.byteData.packStruct=function(a,e,b){b=void 0===b?10:b;if(a.length<e.length)return[];for(var c=[],d=0;d<e.length;d++)c=
c.concat(h(a[d],e[d],b));return c};window.byteData.findString=function(d,e){for(var b,c=0;c<d.length;c++)if(b=k(d.slice(c,c+e.length+1),new a({bits:8*e.length,"char":!0})),b==e)return c;return-1};window.byteData.Type=a;window.byteData.chr=new a({bits:8,"char":!0});window.byteData.fourCC=new a({bits:32,"char":!0});window.byteData.bool=new a({bits:1});window.byteData.int2=new a({bits:2,signed:!0});window.byteData.uInt2=new a({bits:2});window.byteData.int4=new a({bits:4,signed:!0});window.byteData.uInt4=
new a({bits:4});window.byteData.int8=new a({bits:8,signed:!0});window.byteData.uInt8=new a({bits:8});window.byteData.int16=new a({bits:16,signed:!0});window.byteData.uInt16=new a({bits:16});window.byteData.float16=new a({bits:16,"float":!0});window.byteData.int24=new a({bits:24,signed:!0});window.byteData.uInt24=new a({bits:24});window.byteData.int32=new a({bits:32,signed:!0});window.byteData.uInt32=new a({bits:32});window.byteData.float32=new a({bits:32,"float":!0});window.byteData.int40=new a({bits:40,
signed:!0});window.byteData.uInt40=new a({bits:40});window.byteData.int48=new a({bits:48,signed:!0});window.byteData.uInt48=new a({bits:48});window.byteData.float64=new a({bits:64,"float":!0});window.byteData.int16BE=new a({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new a({bits:16,be:!0});window.byteData.float16BE=new a({bits:16,"float":!0,be:!0});window.byteData.int24BE=new a({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=new a({bits:24,be:!0});window.byteData.int32BE=new a({bits:32,
signed:!0,be:!0});window.byteData.uInt32BE=new a({bits:32,be:!0});window.byteData.float32BE=new a({bits:32,"float":!0,be:!0});window.byteData.int40BE=new a({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new a({bits:40,be:!0});window.byteData.int48BE=new a({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new a({bits:48,be:!0});window.byteData.float64BE=new a({bits:64,"float":!0,be:!0})},function(m,g,l){var h=l(0),k=l(3);g.h=function(f,a){f=Object.assign(new h({}),f);f.f=a;return f};g.A=function(f,
a){for(var d=0,e=0,b=f.length,c=[];d<b;)e=a.B(c,a.overflow(f[d]),e,a),d++;a.j&&k(c,a.offset);if(10!=a.f){f=a.f;d=0;for(e=c.length;d<e;)c[d]=c[d].toString(f),d++;f=0;d=c.length;for(a=(2==a.f?8:2)+1;f<d;)c[f]=Array(a-c[f].length).join("0")+c[f],f++}return c};g.o=function(f,a){a.j&&k(f,a.offset);if(10!=a.f)for(var d=a.f,e=0,b=f.length;e<b;)f[e]=parseInt(f[e],d),e++;d=[];e=0;for(b=f.length-(a.offset-1);e<b;)d.push(a.overflow(a.sign(a.w(f,e,a)))),e+=a.offset;a.char&&(d=d.join(""));return d}},function(m){m.g=
function(g,l){for(var h=g.length,k=0;k<h;){for(var f=g,a=k,d=0,e=l-1,b=parseInt(l/2,10);d<b;){var c=f[a+d];f[a+d]=f[a+e];f[a+e]=c;d++;e--}k+=l}}}]);

/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var n="function"==typeof Object.defineProperties?Object.defineProperty:function(m,g,l){m!=Array.prototype&&m!=Object.prototype&&(m[g]=l.value)},p="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,q=["Object","assign"],r=0;r<q.length-1;r++){var t=q[r];t in p||(p[t]={});p=p[t]}
var u=q[q.length-1],v=p[u],w=v?v:function(m,g){for(var l=1;l<arguments.length;l++){var h=arguments[l];if(h)for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(m[k]=h[k])}return m};w!=v&&null!=w&&n(p,u,{configurable:!0,writable:!0,value:w});
(function(m){function g(h){if(l[h])return l[h].g;var k=l[h]={H:h,D:!1,g:{}};m[h].call(k.g,k,k.g,g);k.D=!0;return k.g}var l={};g.v=m;g.m=l;g.c=function(h,k){g.i(h)||Object.defineProperty(h,"a",{configurable:!1,enumerable:!0,get:k})};g.o=function(h){var k=h&&h.G?function(){return h["default"]}:function(){return h};g.c(k,k);return k};g.i=function(g){return Object.prototype.hasOwnProperty.call(g,"a")};g.u="";return g(g.w=1)})([function(m){function g(b){this.a=b.bits;this.char=b["char"];this.c=b["float"];
this.l=b.be;this.F=this.c?!0:b.signed;this.C=this.A=null;this.offset=0;this.f=b.base?b.base:10;this.min=-Infinity;this.max=Infinity;this.b=this.a;this.j=255;this.i()}var l=new Float32Array(1),h=new Int32Array(l.buffer),k=new Float64Array(1),f=new Uint32Array(k.buffer),a={read:function(b,a,c){c=c.offset-1;for(var e="";0<=c;){var d=b[c+a].toString(2);e+=Array(9-d.length).join("0")+d;c--}return parseInt(e,2)},read16F:function(b,a){b=[b[a],b[a+1]];a="";for(var c=0,e=b.length;c<e;){var d=b[c].toString(2);
a=Array(9-d.length).join("0")+d+a;c++}b=parseInt(a,2);a=(b&31744)>>10;c=b&1023;return(a?Math.pow(2,a-15)*(1+c/1024):c/1024*.00006103515625)*(b>>15?-1:1)},read32F:function(b,e){h[0]=a.read(b,e,{offset:4});return l[0]},read64F:function(b,e){var c={bits:32,offset:4};f[0]=a.read(b,e,c);f[1]=a.read(b,e+4,c);return k[0]},readChar:function(b,a,c){var e="",d=0;for(c=c.a/8;d<c;)e+=String.fromCharCode(b[a+d]),d++;return e}},d={write64F:function(b,a,c){k[0]=a;a={a:32,offset:4,j:255};c=d.write(b,f[0],c,a);return d.write(b,
f[1],c,a)},write32F:function(b,a,c,f){l[0]=a;return c=d.write(b,h[0],c,f)},write16F:function(b,a,c){l[0]=a;var d=h[0];a=d>>16&32768;var e=d>>12&2047;d=d>>23&255;103<=d&&(a=(a|d-112<<10|e>>1)+(e&1));b[c++]=a&255;b[c++]=a>>>8&255;return c},writeString:function(b,a,c){b[c++]=a.charCodeAt(0);return c},write:function(b,a,c,d){for(var e=255,f=d.offset,g=1;g<=f;g++)if(1==g){var k=b,h=a;1==d.offset&&8>d.a?k[c++]=0>h?h+Math.pow(2,d.a):h:k[c++]=h&255}else g==f&&(e=d.j),b[c++]=Math.floor(a/Math.pow(2,8*(g-1)))&
e;return c}};g.prototype.sign=function(a){a>this.max&&(a-=2*this.max+2);return a};g.prototype.overflow=function(a){a>this.max?a=this.max:a<this.min&&(a=this.min);return a};g.prototype.i=function(){this.v();this.m();this.offset=8>this.a?1:Math.ceil(this.b/8);this.u();this.w();this.c||this.o()};g.prototype.u=function(){this.A=this.c?a["read"+this.a+"F"]:this.char?a.readChar:a.read};g.prototype.w=function(){this.C=this.char?d.writeString:this.c?d["write"+this.b+"F"]:d.write};g.prototype.o=function(){var a=
Math.pow(2,this.a);this.F?(this.max=a/2-1,this.min=-a/2):(this.max=a-1,this.min=0)};g.prototype.v=function(){this.b=8<this.a?16>=this.a?16:24>=this.a?24:32>=this.a?32:40>=this.a?40:48>=this.a?48:56>=this.a?56:64:this.a};g.prototype.m=function(){var a=8-(this.b-this.a);this.j=Math.pow(2,0<a?a:8)-1};m.g=g},function(m,g,l){function h(a,b,e){var c=[];b.char?c=b.char?a.slice(0,b.b/8):a:Array.isArray(a)||(c=[a]);return f.B(c,f.h(b,void 0===e?10:e))}function k(a,b,e){a=f.s(a.slice(0,8>b.a?b.a:b.b/8),f.h(b,
void 0===e?10:e));return a=b.char?a.slice(0,b.a/8):a[0]}var f=l(2),a=l(0);window.byteData=window.byteData?window.byteData:{};window.byteData.pack=h;window.byteData.unpack=k;window.byteData.packArray=function(a,b,e){return f.B(a,f.h(b,void 0===e?10:e))};window.byteData.unpackArray=function(a,b,e){return f.s(a,f.h(b,void 0===e?10:e))};window.byteData.unpackStruct=function(a,b,e){e=void 0===e?10:e;for(var c=0,d=0;d<b.length;d++)c+=b[d].b/8;if(a.length<c)return[];c=[];for(var f=d=0;d<b.length;){var g=
8>b[d].a?1:b[d].b/8;c=c.concat(k(a.slice(f,f+g),b[d],e));f+=g;d++}return c};window.byteData.packStruct=function(a,b,e){e=void 0===e?10:e;if(a.length<b.length)return[];for(var c=[],d=0;d<b.length;d++)c=c.concat(h(a[d],b[d],e));return c};window.byteData.findString=function(d,b){for(var e,c=0;c<d.length;c++)if(e=k(d.slice(c,c+b.length+1),new a({bits:8*b.length,"char":!0})),e==b)return c;return-1};window.byteData.Type=a;window.byteData.chr=new a({bits:8,"char":!0});window.byteData.fourCC=new a({bits:32,
"char":!0});window.byteData.bool=new a({bits:1});window.byteData.int2=new a({bits:2,signed:!0});window.byteData.uInt2=new a({bits:2});window.byteData.int4=new a({bits:4,signed:!0});window.byteData.uInt4=new a({bits:4});window.byteData.int8=new a({bits:8,signed:!0});window.byteData.uInt8=new a({bits:8});window.byteData.int16=new a({bits:16,signed:!0});window.byteData.uInt16=new a({bits:16});window.byteData.float16=new a({bits:16,"float":!0});window.byteData.int24=new a({bits:24,signed:!0});window.byteData.uInt24=
new a({bits:24});window.byteData.int32=new a({bits:32,signed:!0});window.byteData.uInt32=new a({bits:32});window.byteData.float32=new a({bits:32,"float":!0});window.byteData.int40=new a({bits:40,signed:!0});window.byteData.uInt40=new a({bits:40});window.byteData.int48=new a({bits:48,signed:!0});window.byteData.uInt48=new a({bits:48});window.byteData.float64=new a({bits:64,"float":!0});window.byteData.int16BE=new a({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new a({bits:16,be:!0});window.byteData.float16BE=
new a({bits:16,"float":!0,be:!0});window.byteData.int24BE=new a({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=new a({bits:24,be:!0});window.byteData.int32BE=new a({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new a({bits:32,be:!0});window.byteData.float32BE=new a({bits:32,"float":!0,be:!0});window.byteData.int40BE=new a({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new a({bits:40,be:!0});window.byteData.int48BE=new a({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new a({bits:48,
be:!0});window.byteData.float64BE=new a({bits:64,"float":!0,be:!0})},function(m,g,l){var h=l(0),k=l(3);g.h=function(f,a){f=Object.assign(new h({}),f);f.f=a;return f};g.B=function(f,a){for(var d=0,b=0,e=f.length,c=[];d<e;)b=a.C(c,a.overflow(f[d]),b,a),d++;a.l&&k(c,a.offset);if(10!=a.f){f=a.f;d=0;for(b=c.length;d<b;)c[d]=c[d].toString(f),d++;f=0;d=c.length;for(a=(2==a.f?8:2)+1;f<d;)c[f]=Array(a-c[f].length).join("0")+c[f],f++}return c};g.s=function(f,a){a.l&&k(f,a.offset);if(10!=a.f)for(var d=a.f,b=
0,e=f.length;b<e;)f[b]=parseInt(f[b],d),b++;d=[];b=0;for(e=f.length-(a.offset-1);b<e;)d.push(a.overflow(a.sign(a.A(f,b,a)))),b+=a.offset;a.char&&(d=d.join(""));return d}},function(m){m.g=function(g,l){for(var h=g.length,k=0;k<h;){for(var f=g,a=k,d=0,b=l-1,e=parseInt(l/2,10);d<e;){var c=f[a+d];f[a+d]=f[a+b];f[a+b]=c;d++;b--}k+=l}}}]);

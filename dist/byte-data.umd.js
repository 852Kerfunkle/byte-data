!function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var orig=Object.defineProperty;Object.defineProperty=function(o,prop,desc){if(orig)try{return orig(o,prop,desc)}catch(e){}if(o!==Object(o))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in desc&&Object.prototype.__defineGetter__.call(o,prop,desc.get),Object.prototype.__defineSetter__&&"set"in desc&&Object.prototype.__defineSetter__.call(o,prop,desc.set),"value"in desc&&(o[prop]=desc.value),o}}}();var testObject={t:"o"},replaceGetOwnPropertyDescriptor=!1;try{Object.getOwnPropertyDescriptor(testObject,"t")}catch(err){replaceGetOwnPropertyDescriptor=!0}replaceGetOwnPropertyDescriptor&&(Object.getOwnPropertyDescriptor=function(object,key){return null!=("function"==typeof object.__lookupGetter__&&"function"==typeof object.__lookupSetter__?object.__lookupGetter__(key)||object.__lookupSetter__(key):null)?{configurable:!0,enumerable:!0,get:object.__lookupGetter__(key),set:object.__lookupSetter__(key)}:{configurable:!0,writable:!0,enumerable:!0,value:object[key]}});var m,l="function"==typeof Object.create?Object.create:function(a){function c(){}return c.prototype=a,new c};if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var p={f:!0},q={};try{q.__proto__=p,n=q.f;break a}catch(a){}n=!1}m=n?function(a,c){if(a.__proto__=c,a.__proto__!==c)throw new TypeError(a+" is not extensible");return a}:null}var r=m;function t(a,c){if(a.prototype=l(c.prototype),a.prototype.constructor=a,r)r(a,c);else for(var b in c)if("prototype"!=b)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(c,b);d&&Object.defineProperty(a,b,d)}else a[b]=c[b];a.m=c.prototype}var u="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)},v="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function w(a){if(a){for(var c=v,b=["String","prototype","codePointAt"],d=0;d<b.length-1;d++){var e=b[d];e in c||(c[e]={}),c=c[e]}(a=a(d=c[b=b[b.length-1]]))!=d&&null!=a&&u(c,b,{configurable:!0,writable:!0,value:a})}}w(function(a){return a||function(a){if(null==this)throw new TypeError("The 'this' value for String.prototype.codePointAt must not be null or undefined");var b=this.length;if(0<=(a=Number(a)||0)&&a<b){a|=0;var c=this.charCodeAt(a);return 55296>c||56319<c||a+1===b?c:56320>(a=this.charCodeAt(a+1))||57343<a?c:1024*(c-55296)+a+9216}}});var byteData,y={unpackString:function(a,c,b){var d=void 0===c?0:c;for(b=null!==(b=void 0===(b=void 0===b?null:b)?null:b)?b+1:a.length,c="",d=void 0===d?0:d;d<b;){var e=128,f=191,h=!1,g=a[d++];if(0<=g&&127>=g)c+=String.fromCharCode(g);else{var k=0;194<=g&&223>=g?k=1:224<=g&&239>=g?(k=2,224===a[d]&&(e=160),237===a[d]&&(f=159)):240<=g&&244>=g?(k=3,240===a[d]&&(e=144),244===a[d]&&(f=143)):h=!0,g&=(1<<8-k-1)-1;for(var C=0;C<k;C++)(a[d]<e||a[d]>f)&&(h=!0),g=g<<6|63&a[d],d++;h?c+=String.fromCharCode(65533):65535>=g?c+=String.fromCharCode(g):(g-=65536,c+=String.fromCharCode(55296+(g>>10&1023),56320+(1023&g)))}}return c},packStringTo:function(a,c,b){return x(a,c,void 0===b?0:b)},pack:function(a,c){var b=[];return(0,y.packTo)(a,c,b),b},packTo:function(a,c,b,d){return(0,y.packArrayTo)([a],c,b,void 0===d?0:d)},packArray:function(a,c){var b=[];return(0,y.packArrayTo)(a,c,b),b},packArrayTo:function(a,c,b,d){d=void 0===d?0:d;for(var e=new z(c),f=a.length,h=0;h<f;h++){var g=a[h];if(void 0===g)throw Error("Undefined value");if(null!==g&&g.constructor!=Number&&g.constructor!=Boolean)throw Error("Can't pack "+g.constructor);for(g=d+e.a;d<g;)d=e.pack(b,a[h],d);c.be&&A(b,e.a,d-e.a,d)}return d},unpack:function(a,c,b){b=void 0===b?0:b;var d=new z(c);if(d.a+b>a.length)throw Error("Bad buffer length");c.be&&A(a,d.a,b,b+d.a);var e=d.unpack(a,b);return c.be&&A(a,d.a,b,b+d.a),e},unpackArray:function(a,c,b,d){d=void 0===d?a.length:d;var e=[];return(0,y.unpackArrayTo)(a,c,e,void 0===b?0:b,d),e},unpackArrayTo:function(a,c,b,d,e){d=void 0===d?0:d,e=void 0===e?a.length:e;for(var f=new z(c),h=d;(e-d)%f.a;)e--;c.be&&A(a,f.a,d,e);for(var g=0;d<e;d+=f.a)b[g]=f.unpack(a,d),g++;c.be&&A(a,f.a,h,e)},packString:function(a){var c;if("function"==typeof Uint8Array){for(var b=c=0,d=a.length;b<d;b++){var e=a.codePointAt(b);128>e||(2047>=e?c++:65535>=e?c+=2:1114111>=e&&(b++,c+=3)),c++}c=new Uint8Array(c)}else c=[];return x(a,c,0),c}},exports=y||{};function A(a,c,b,d){if((d=void 0===d?a.length:d)%c)throw Error("Bad buffer length.");for(b=void 0===b?0:b;b<d;b+=c){var e=a,f=c,h=b;f--;for(var g=0;g<f;g++){var k=e[h+g];e[h+g]=e[h+f],e[h+f]=k,f--}}}function x(a,c,b){b=void 0===b?0:b;for(var d=0,e=a.length;d<e;d++){var f=a.codePointAt(d);if(128>f)c[b]=f,b++;else{var h=0,g=0;for(2047>=f?(h=1,g=192):65535>=f?(h=2,g=224):1114111>=f&&(h=3,g=240,d++),c[b]=(f>>6*h)+g,b++;0<h;)c[b]=128|f>>6*(h-1)&63,b++,h--}}return b}function B(a){this.bits=a,this.a=8>a?1:Math.ceil(a/8),this.max=Math.pow(2,a)-1,this.min=0,a=8-(1+(a-1|7)-a),this.c=Math.pow(2,0<a?a:8)-1}function D(a,c){if(c>a.max||c<a.min)throw Error("Overflow")}function E(a){B.call(this,a),this.max=Math.pow(2,this.bits)/2-1,this.min=-this.max-1}function F(a,c){this.b=c?new E(a):new B(a)}function G(a,c,b,d,e){var f=(1<<d-1)-1;Math.abs(b)>Math.pow(2,f+1)-2*(d+e)&&(b=0>b?-1/0:1/0);var h=0>((b=+b)||1/b)?1:0>b?1:0;b=Math.abs(b);var g=Math.min(Math.floor(Math.log(b)/Math.LN2),1023),k=H(b/Math.pow(2,g)*Math.pow(2,e));for(b!=b?(k=Math.pow(2,e-1),g=(1<<d)-1):0!==b&&(b>=Math.pow(2,1-f)?(2<=k/Math.pow(2,e)&&(g+=1,k=1),g>f?(g=(1<<d)-1,k=0):(g+=f,k=H(k)-Math.pow(2,e))):(k=H(b/Math.pow(2,1-f-e)),g=0)),f=g,(b=[]).push(h),h=d;0<h;--h)b[h]=f%2?1:0,f=Math.floor(f/2);for(h=b.length,f=e;0<f;--f)b[h+f]=k%2?1:0,k=Math.floor(k/2);for(h=b.join(""),d=Math.floor((d+e+1)/8)+c-1,e=c;d>=c;)a[d]=parseInt(h.substring(0,8),2),h=h.substring(8),d--,e++;return e}function I(a,c,b,d){var e=Math.ceil((b+d)/8);d=Math.pow(2,-(8*e-1-b));var f="";for(--e;0<=e;e--){var h=a[e+c].toString(2);f+="00000000".substring(h.length)+h}return a="1"==f.charAt(0)?-1:1,f=f.substring(1),c=parseInt(f.substring(0,b),2),f=f.substring(b),c==(1<<b)-1?0!==parseInt(f,2)?NaN:1/0*a:(0===c?(c+=1,f=parseInt(f,2)):f=parseInt("1"+f,2),a*f*d*Math.pow(2,c-((1<<b-1)-1)))}function H(a){var c=Math.floor(a);return.5>(a-=c)?c:.5<a?c+1:c%2?c+1:c}function z(a){if(!a)throw Error("Unsupported type");if(a.float){if(16!=a.bits&&32!=a.bits&&64!=a.bits)throw Error("Unsupported type")}else if(1>a.bits||53<a.bits)throw Error("Unsupported type");a.signed=!a.float&&a.signed,F.call(this,a.bits,a.signed),this.a=this.b.a,this.b.a=64===this.b.bits?4:this.b.a,a.float?16==a.bits?(this.unpack=this.c,this.pack=this.i):32==a.bits?(this.unpack=this.g,this.pack=this.j):(this.unpack=this.h,this.pack=this.l):(this.unpack=F.prototype.unpack,this.pack=F.prototype.pack)}Object.defineProperty(y,"__esModule",{value:!0}),B.prototype.pack=function(a,c,b){if(b=void 0===b?0:b,c!=c)throw Error("NaN");D(this,c),a[b]=255&(0>c?c+Math.pow(2,this.bits):c),b++;for(var d=this.a,e=2;e<d;e++)a[b]=255&Math.floor(c/Math.pow(2,8*(e-1))),b++;return 8<this.bits&&(a[b]=Math.floor(c/Math.pow(2,8*(this.a-1)))&this.c,b++),b},B.prototype.unpack=function(a,c){var b=this.b(a,void 0===c?0:c);return D(this,b),b},B.prototype.b=function(a,c){for(var b=0,d=0;d<this.a;d++)b+=a[c+d]*Math.pow(256,d);return b},t(E,B),E.prototype.pack=function(a,c,b){return B.prototype.pack.call(this,a,c,void 0===b?0:b)},E.prototype.unpack=function(a,c){var b=B.prototype.b.call(this,a,void 0===c?0:c);return b>this.max&&(b-=2*this.max+2),D(this,b),b},F.prototype.pack=function(a,c,b){return this.b.pack(a,c,void 0===b?0:b)},F.prototype.unpack=function(a,c){return this.b.unpack(a,void 0===c?0:c)},t(z,F),z.prototype.c=function(a,c){return I(a,void 0===c?0:c,5,11)},z.prototype.g=function(a,c){return I(a,void 0===c?0:c,8,23)},z.prototype.h=function(a,c){return I(a,void 0===c?0:c,11,52)},z.prototype.i=function(a,c,b){return G(a,void 0===b?0:b,c,5,11)},z.prototype.j=function(a,c,b){return G(a,void 0===b?0:b,c,8,23)},z.prototype.l=function(a,c,b){return G(a,void 0===b?0:b,c,11,52)},"undefined"!=typeof module?module.exports=exports:"function"==typeof define&&define.amd?define(["exports"],exports):"undefined"!=typeof global?global.byteData=exports:byteData=exports;

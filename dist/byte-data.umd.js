/*!
 * https://github.com/rochars/byte-data.
 */
"use strict";if(typeof exports!=="undefined"){var window={};}var k,l="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function p(b){if(b){for(var a=n,c=["String","prototype","codePointAt"],d=0;d<c.length-1;d++){var e=c[d];e in a||(a[e]={});a=a[e]}c=c[c.length-1];d=a[c];b=b(d);b!=d&&null!=b&&l(a,c,{configurable:!0,writable:!0,value:b})}}
p(function(b){return b?b:function(a){if(null==this)throw new TypeError("The 'this' value for String.prototype.codePointAt must not be null or undefined");var b=this.length;a=Number(a)||0;if(0<=a&&a<b){a|=0;var d=this.charCodeAt(a);if(55296>d||56319<d||a+1===b)return d;a=this.charCodeAt(a+1);return 56320>a||57343<a?d:1024*(d-55296)+a+9216}}});
var q={unpackString:function(b,a,c){a=void 0===a?0:a;c=void 0!==c?a+c:b.length;for(var d="";a<c;){var e=128,g=191,h=!1,f=b[a++];if(0<=f&&127>=f)d+=String.fromCharCode(f);else{var m=0;194<=f&&223>=f?m=1:224<=f&&239>=f?(m=2,224===b[a]&&(e=160),237===b[a]&&(g=159)):240<=f&&244>=f?(m=3,240===b[a]&&(e=144),244===b[a]&&(g=143)):h=!0;f&=(1<<8-m-1)-1;for(var t=0;t<m;t++){if(b[a]<e||b[a]>g)h=!0;f=f<<6|b[a]&63;a++}h?d+=String.fromCharCode(65533):65535>=f?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode((f>>
10&1023)+55296,(f&1023)+56320))}}return d},packString:function(b){for(var a=0,c=0,d=b.length;c<d;c++){var e=b.codePointAt(c);128>e||(2047>=e?a++:65535>=e?a+=2:1114111>=e&&(c++,a+=3));a++}a=new Uint8Array(a);d=c=0;for(e=b.length;d<e;d++){var g=b.codePointAt(d);if(128>g)a[c]=g,c++;else{var h=0,f=0;2047>=g?(h=1,f=192):65535>=g?(h=2,f=224):1114111>=g&&(h=3,f=240,d++);a[c]=(g>>6*h)+f;for(c++;0<h;)a[c]=128|g>>6*(h-1)&63,c++,h--}}return a},packStringTo:function(b,a,c){c=void 0===c?0:c;b=(0,q.packString)(b);
for(var d=0,e=b.length;d<e;d++)a[c++]=b[d];return c},pack:function(b,a){var c=[];(0,q.packTo)(b,a,c);return c},packTo:function(b,a,c,d){return(0,q.packArrayTo)([b],a,c,void 0===d?0:d)},packArray:function(b,a){var c=[];(0,q.packArrayTo)(b,a,c);return c},packArrayTo:function(b,a,c,d){d=void 0===d?0:d;r(a);for(var e=0,g=b.length;e<g;e++){if(void 0===b[e])throw Error("Undefined value.");var h=b[e];if(null!==h&&-1==[Number,Boolean].indexOf(h.constructor))throw Error("Expected Number, Boolean or Null; found "+
h.constructor);for(h=d+a.offset;d<h;)d=u.write(c,b[e],d);a.be&&v(c,a.offset,d-a.offset,d)}return d},unpack:function(b,a,c){c=void 0===c?0:c;r(a);if(a.offset+c>b.length)throw Error("Bad buffer length.");a.be&&v(b,a.offset,c,c+a.offset);var d=u.read(b,c);a.be&&v(b,a.offset,c,c+a.offset);return d},unpackArray:function(b,a,c,d){d=void 0===d?b.length:d;var e=[];(0,q.unpackArrayTo)(b,a,e,void 0===c?0:c,d);return e},unpackArrayTo:function(b,a,c,d,e){d=void 0===d?0:d;e=void 0===e?b.length:e;for(r(a);(e-d)%
a.offset;)e--;for(var g=0;d<e;d+=a.offset,g++)c[g]=(0,q.unpack)(b,a,d)}},exports=q||{};window&&(window.byteData=q);Object.defineProperty(q,"__esModule",{value:!0});function v(b,a,c,d){c=void 0===c?0:c;d=void 0===d?b.length:d;if(d%a)throw Error("Bad buffer length.");for(;c<d;c+=a){var e=b,g=a,h=c;g--;for(var f=0;f<g;f++){var m=e[h+f];e[h+f]=e[h+g];e[h+g]=m;g--}}}
function w(b,a){this.a=b;this.c=0;this.f=this.a;this.g=255;b=Math.pow(2,this.a);a?(this.b=b/2-1,this.h=-b/2):(this.b=b-1,this.h=0);this.f=(this.a-1|7)+1;a=8-(this.f-this.a);this.g=Math.pow(2,0<a?a:8)-1;this.c=8>this.a?1:Math.ceil(this.f/8)}w.prototype.read=function(b,a){a=void 0===a?0:a;for(var c=0,d=0;d<this.c;d++)c+=b[a+d]*Math.pow(256,d);b=c;b>this.b&&(b-=2*this.b+2);return x(this,b)};
w.prototype.write=function(b,a,c){c=void 0===c?0:c;var d=x(this,a);b[c]=8>this.a?0>d?d+Math.pow(2,this.a):d:d&255;c+=1;d=2;for(var e=this.c;d<e;d++,c++)b[c]=Math.floor(a/Math.pow(2,8*(d-1)))&255;8<this.a&&(b[c]=Math.floor(a/Math.pow(2,8*(this.c-1)))&this.g,c++);return c};function x(b,a){if(a>b.b)throw Error("Overflow.");if(a<b.h)throw Error("Underflow.");return a}
function y(){var b=0===(new Uint8Array((new Uint32Array([1])).buffer))[0];this.f=b?1:0;this.g=b?0:1;b=new Int8Array(8);this.b=new Uint32Array(b.buffer);this.c=new Float32Array(b.buffer);this.h=new Float64Array(b.buffer);this.a={}}k=y.prototype;k.read=function(){};k.write=function(){};
function r(b){var a=u;if(!b)throw Error("Undefined type.");if(b.float){if(-1==[16,32,64].indexOf(b.bits))throw Error("Bad float type.");}else if(1>b.bits||53<b.bits)throw Error("Bad type definition.");b.offset=8>b.bits?1:Math.ceil(b.bits/8);b.float?16==b.bits?(a.read=a.i,a.write=a.o):32==b.bits?(a.read=a.j,a.write=a.s):(a.read=a.l,a.write=a.u):(a.read=a.m,a.write=a.v);a.a=new w(64==b.bits?32:b.bits,b.float?!1:b.signed)}k.m=function(b,a){return this.a.read(b,a)};
k.i=function(b,a){b=this.a.read(b,a);a=(b&31744)>>10;var c=b&1023;return(a?Math.pow(2,a-15)*(1+c/1024):c/1024*.00006103515625)*(b>>15?-1:1)};k.j=function(b,a){this.b[0]=this.a.read(b,a);return this.c[0]};k.l=function(b,a){this.b[this.f]=this.a.read(b,a);this.b[this.g]=this.a.read(b,a+4);return this.h[0]};k.v=function(b,a,c){return this.a.write(b,a,c)};
k.o=function(b,a,c){this.c[0]=a;var d=this.b[0];a=d>>16&32768;var e=d>>12&2047;d=d>>23&255;103<=d&&(a=(a|d-112<<10|e>>1)+(e&1));b[c++]=a&255;b[c++]=a>>>8&255;return c};k.s=function(b,a,c){this.c[0]=a;return this.a.write(b,this.b[0],c)};k.u=function(b,a,c){this.h[0]=a;c=this.a.write(b,this.b[this.f],c);return this.a.write(b,this.b[this.g],c)};var u=new y;var module=module||{};module.exports=exports;var define=define||function(){};define(["exports"],function(e){return module.exports;});

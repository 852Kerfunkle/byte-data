/*!
 * https://github.com/rochars/byte-data.
 * Copyright (c) 2017-2018 Rafael da Silva Rocha.
 * Copyright (c) 2013 DeNA Co., Ltd.
 */
"use strict";if(typeof exports!=="undefined"){var window={};}var k,l="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},m;if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var p={o:!0},r={};try{r.__proto__=p;n=r.o;break a}catch(a){}n=!1}m=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var t=m,u="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},v="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function w(a){if(a){for(var b=v,c=["String","prototype","codePointAt"],d=0;d<c.length-1;d++){var e=c[d];e in b||(b[e]={});b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&u(b,c,{configurable:!0,writable:!0,value:a})}}
w(function(a){return a?a:function(a){if(null==this)throw new TypeError("The 'this' value for String.prototype.codePointAt must not be null or undefined");var b=this.length;a=Number(a)||0;if(0<=a&&a<b){a|=0;var d=this.charCodeAt(a);if(55296>d||56319<d||a+1===b)return d;a=this.charCodeAt(a+1);return 56320>a||57343<a?d:1024*(d-55296)+a+9216}}});
var x={unpackString:function(a,b,c){b=void 0===b?0:b;b=void 0===b?0:b;c=void 0!==c?b+c:a.length;for(var d="";b<c;){var e=128,h=191,f=!1,g=a[b++];if(0<=g&&127>=g)d+=String.fromCharCode(g);else{var q=0;194<=g&&223>=g?q=1:224<=g&&239>=g?(q=2,224===a[b]&&(e=160),237===a[b]&&(h=159)):240<=g&&244>=g?(q=3,240===a[b]&&(e=144),244===a[b]&&(h=143)):f=!0;g&=(1<<8-q-1)-1;for(var z=0;z<q;z++){if(a[b]<e||a[b]>h)f=!0;g=g<<6|a[b]&63;b++}f?d+=String.fromCharCode(65533):65535>=g?d+=String.fromCharCode(g):(g-=65536,
d+=String.fromCharCode((g>>10&1023)+55296,(g&1023)+56320))}}return d},packString:function(a){for(var b=0,c=0,d=a.length;c<d;c++){var e=a.codePointAt(c);128>e||(2047>=e?b++:65535>=e?b+=2:1114111>=e&&(c++,b+=3));b++}b=new Uint8Array(b);d=c=0;for(e=a.length;d<e;d++){var h=a.codePointAt(d);if(128>h)b[c]=h,c++;else{var f=0,g=0;2047>=h?(f=1,g=192):65535>=h?(f=2,g=224):1114111>=h&&(f=3,g=240,d++);b[c]=(h>>6*f)+g;for(c++;0<f;)b[c]=128|h>>6*(f-1)&63,c++,f--}}return b},packStringTo:function(a,b,c){c=void 0===
c?0:c;a=(0,x.packString)(a);for(var d=0,e=a.length;d<e;d++)b[c++]=a[d];return c},pack:function(a,b){var c=[];(0,x.packTo)(a,b,c);return c},packTo:function(a,b,c,d){return(0,x.packArrayTo)([a],b,c,void 0===d?0:d)},packArray:function(a,b){var c=[];(0,x.packArrayTo)(a,b,c);return c},packArrayTo:function(a,b,c,d){d=void 0===d?0:d;y.g(b);for(var e=0,h=a.length;e<h;e++){if(void 0===a[e])throw Error("Undefined value.");var f=a[e];if(null!==f&&-1==[Number,Boolean].indexOf(f.constructor))throw Error("Expected Number, Boolean or Null; found "+
f.constructor);for(f=d+y.a;d<f;)d=y.write(c,a[e],d);b.be&&A(c,d-y.a,d)}return d},unpack:function(a,b,c){c=void 0===c?0:c;y.g(b);if(y.a+c>a.length)throw Error("Bad buffer length.");b.be&&A(a,c,c+y.a);var d=y.c(a,c);b.be&&A(a,c,c+y.a);return d},unpackArray:function(a,b,c,d){d=void 0===d?a.length:d;var e=[];(0,x.unpackArrayTo)(a,b,e,void 0===c?0:c,d);return e},unpackArrayTo:function(a,b,c,d,e){d=void 0===d?0:d;e=void 0===e?a.length:e;y.g(b);for(var h=d;(e-d)%y.a;)e--;b.be&&A(a,d,e);for(var f=0;d<e;d+=
y.a,f++)c[f]=y.c(a,d);b.be&&A(a,h,e)}},exports=x||{};window&&(window.byteData=x);Object.defineProperty(x,"__esModule",{value:!0});function A(a,b,c){var d=y.a;b=void 0===b?0:b;c=void 0===c?a.length:c;if(c%d)throw Error("Bad buffer length.");for(;b<c;b+=d){var e=a,h=d,f=b;h--;for(var g=0;g<h;g++){var q=e[f+g];e[f+g]=e[f+h];e[f+h]=q;h--}}}function B(){this.j=this.f=this.m=this.b=this.h=this.a=0}
B.prototype.g=function(a){this.b=a.bits;var b=Math.pow(2,this.b);a.signed?(this.f=b/2-1,this.j=-b/2):(this.f=b-1,this.j=0);a=8-((this.b-1|7)+1-this.b);this.m=Math.pow(2,0<a?a:8)-1;this.a=8>this.b?1:Math.ceil(this.b/8);this.h=64===this.b?4:this.a};B.prototype.c=function(a,b){b=void 0===b?0:b;for(var c=0,d=0;d<this.h;d++)c+=a[b+d]*Math.pow(256,d);a=c;a>this.f&&(a-=2*this.f+2);return C(this,a)};
B.prototype.write=function(a,b,c){c=void 0===c?0:c;var d=C(this,b);a[c]=8>this.b?0>d?d+Math.pow(2,this.b):d:d&255;c+=1;d=2;for(var e=this.h;d<e;d++,c++)a[c]=Math.floor(b/Math.pow(2,8*(d-1)))&255;8<this.b&&(a[c]=Math.floor(b/Math.pow(2,8*(this.h-1)))&this.m,c++);return c};function C(a,b){if(b>a.f)throw Error("Overflow.");if(b<a.j)throw Error("Underflow.");return b}
function D(a,b,c,d,e){var h=Math.pow(2,-(8*c-1-d)),f="";for(--c;0<=c;c--){var g=a[c+b].toString(2);f+="00000000".substring(g.length)+g}a="1"==f.charAt(0)?-1:1;f=f.substring(1);b=parseInt(f.substring(0,d),2);f=f.substring(d);if(b==(1<<d)-1)return 0!==parseInt(f,2)?NaN:Infinity*a;0==b?(b+=1,d=parseInt(f,2)):d=parseInt("1"+f,2);return a*d*h*Math.pow(2,b-e)}
function E(){B.call(this);var a=0===(new Uint8Array((new Uint32Array([1])).buffer))[0];this.s=a?1:0;this.A=a?0:1;a=new Int8Array(8);this.i=new Uint32Array(a.buffer);this.l=new Float32Array(a.buffer);this.B=new Float64Array(a.buffer)}E.prototype=l(B.prototype);E.prototype.constructor=E;if(t)t(E,B);else for(var F in B)if("prototype"!=F)if(Object.defineProperties){var G=Object.getOwnPropertyDescriptor(B,F);G&&Object.defineProperty(E,F,G)}else E[F]=B[F];E.a=B.prototype;k=E.prototype;
k.g=function(a){if(!a)throw Error("Undefined type.");if(a.float){if(-1==[16,32,64].indexOf(a.bits))throw Error("Bad float type.");}else if(1>a.bits||53<a.bits)throw Error("Bad type definition.");B.prototype.g.call(this,{bits:a.bits,signed:a.float?!1:a.signed});a.float?16==a.bits?(this.c=this.u,this.write=this.C):32==a.bits?(this.c=this.v,this.write=this.D):(this.c=this.w,this.write=this.F):(this.c=B.prototype.c,this.write=B.prototype.write)};k.u=function(a,b){return D(a,void 0===b?0:b,2,5,15)};
k.v=function(a,b){return D(a,void 0===b?0:b,4,8,127)};k.w=function(a,b){return D(a,void 0===b?0:b,8,11,1023)};k.C=function(a,b,c){c=void 0===c?0:c;this.l[0]=b;if(isNaN(b))a[c++]=0,a[c++]=126;else if(Infinity===b)a[c++]=0,a[c++]=124;else if(-Infinity===b)a[c++]=0,a[c++]=252;else{var d=this.i[0];b=d>>16&32768;var e=d>>12&2047;d=d>>23&255;103<=d&&(b=(b|d-112<<10|e>>1)+(e&1));a[c++]=b&255;a[c++]=b>>>8&255}return c};
k.D=function(a,b,c){this.l[0]=b;return B.prototype.write.call(this,a,this.i[0],void 0===c?0:c)};k.F=function(a,b,c){this.B[0]=b;c=B.prototype.write.call(this,a,this.i[this.s],void 0===c?0:c);return B.prototype.write.call(this,a,this.i[this.A],c)};var y=new E;var module=module||{};module.exports=exports;var define=define||function(){};define(["exports"],function(e){return module.exports;});
